<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Arduino+蓝牙初尝试</title>
    <url>/Arduino/Arduino-%E8%93%9D%E7%89%99%E5%88%9D%E5%B0%9D%E8%AF%95/</url>
    <content><![CDATA[<p>  使用Arduino连接蓝牙，并使用手机收发数据</p>
<span id="more"></span>

<p>师兄给的这个不知道是哪个型号的蓝牙模块，长得跟HC-05有点像但又不是，不过经测试，使用方法跟HC-05一致。主要参考<a href="https://blog.csdn.net/catzhaojia/article/details/119243058">Arduino连接蓝牙（HC-05）</a>和<a href="https://blog.csdn.net/qq_38410730/article/details/80368485">【常用模块】HC-05蓝牙串口通信模块使用详解（实例：手机蓝牙控制STM32单片机）</a></p>
<img src="lanya.jpg" alt="lanya" style="zoom: 33%;" />

<h3 id="连接方式"><a href="#连接方式" class="headerlink" title="连接方式"></a>连接方式</h3><p>连接方式如下</p>
<img src="连接方式.png" alt="连接方式" style="zoom: 80%;" />

<h3 id="样例代码"><a href="#样例代码" class="headerlink" title="样例代码"></a>样例代码</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SoftwareSerial.h&gt;</span> </span></span><br><span class="line"><span class="comment">// Pin10接HC05的TXD</span></span><br><span class="line"><span class="comment">// Pin11接HC05的RXD</span></span><br><span class="line"><span class="function">SoftwareSerial <span class="title">BT</span><span class="params">(<span class="number">10</span>, <span class="number">11</span>)</span></span>; </span><br><span class="line"><span class="keyword">char</span> val;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">9600</span>); </span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;bluetooth is ready!&quot;</span>);</span><br><span class="line">  BT.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//读取缓冲区字符实现收发数据</span></span><br><span class="line">  <span class="keyword">if</span> (Serial.<span class="built_in">available</span>()) &#123;</span><br><span class="line">    val = Serial.<span class="built_in">read</span>();</span><br><span class="line">    BT.<span class="built_in">print</span>(val);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">if</span> (BT.<span class="built_in">available</span>()) &#123;</span><br><span class="line">    val = BT.<span class="built_in">read</span>();</span><br><span class="line">    Serial.<span class="built_in">print</span>(val);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="AT配置"><a href="#AT配置" class="headerlink" title="AT配置"></a>AT配置</h3><p>烧入Arduino后，我们如果是第一次使用，要对蓝牙模块进行配置，根据<a href="%5B%5B%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97%5DHC-05%E8%93%9D%E7%89%99%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3%EF%BC%88%E5%AE%9E%E4%BE%8B%EF%BC%9A%E6%89%8B%E6%9C%BA%E8%93%9D%E7%89%99%E6%8E%A7%E5%88%B6STM32%E5%8D%95%E7%89%87%E6%9C%BA%EF%BC%89_%E8%93%9D%E7%89%99%E6%A8%A1%E5%9D%97hc05_Yngz_Miao%E7%9A%84%E5%8D%9A%E5%AE%A2-CSDN%E5%8D%9A%E5%AE%A2%5D(https://blog.csdn.net/qq_38410730/article/details/80368485)">这篇博客</a>的说法，需要进入命令响应模式</p>
<blockquote>
<p>蓝牙模块的调试<br>HC-05蓝牙串口通讯模块具有两种工作模式：<strong>命令响应工作模式</strong>和<strong>自动连接工作模式</strong>。在自动连接工作模式下模块又可分为主（Master）、从（Slave）和回环（Loopback）三种工作角色。<br>当模块处于自动连接工作模式时，将自动根据事先设定的方式连接的数据传输；<br>当模块处于命令响应工作模式时能执行AT命令，用户可向模块发送各种AT 指令，为模块设定控制参数或发布控制命令。<br><strong>怎么进入命令响应工作模式？</strong><br>进入命令响应工作模式有两种方法：<br>模块上电，未配对情况下就是AT模式，波特率为模块本身的波特率，默认：9600，发送一次AT指令时需要置高一次PIO11；<br>PIO11 置高电平后，再给模块上电，此时模块进入AT 模式，波特率固定为：38400，可以直接发送AT指令。<br><strong>什么叫做置高一次PIO11？</strong><br>在蓝牙模块中有一个小按键，按一下就置高一次PIO11。也就是说，第一种方法需要每发送一次AT指令按一次；而第二种方式是长按的过程中上电，之后就无需再管了，直接发送AT命令即可。<br>需要注意一下，两种进入命令响应工作模式的方式使用的波特率是不一样的，<strong>建议使用第二种方式。</strong></p>
</blockquote>
<p>简单来讲，就是先给Arduino断电，然后按住蓝牙模块按钮的同时再给Arduino上电即可。</p>
<img src="20210730122053654.png" alt="AT" style="zoom: 67%;" />

<p>配置方法是打开arduino的串口监视器，右下角设置为NL和CR，波特率38400，然后在输入框中输入指令即可。</p>
<p>主要用到的指令有获取和设置名字、查询和设置配对密码、查询和设置波特率，其它指令可以自行尝试。</p>
<h3 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h3><p>接着我们要用到一款手机软件（没找到电脑调试的）“蓝牙调试器”，图标如图所示，可以到手机的软件商城或者浏览器自行搜索下载。其它软件大同小异，过程就是搜索蓝牙，连接HC-05，然后在手机和电脑的串口各自发送数据并查看接受情况</p>
<img src="48d4e77c0fc95af36bff96d2ccc09ec.jpg" alt="蓝牙调试器" style="zoom: 33%;" />



<img src="4a5b8eb1c8ed1f02d98956d9cac2189.jpg" alt="4a5b8eb1c8ed1f02d98956d9cac2189" style="zoom:50%;" />]]></content>
      <categories>
        <category>Arduino</category>
      </categories>
      <tags>
        <tag>Arduino</tag>
        <tag>蓝牙</tag>
      </tags>
  </entry>
  <entry>
    <title>Arduino读取MPU-9250数据</title>
    <url>/Arduino/Arduino%E8%AF%BB%E5%8F%96MPU-9250%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<p>Arduino与MPU-9250通过IIC实现数据传输并尝试使用蓝牙传输数据</p>
<span id="more"></span>

<p>在淘宝商家找的成品并仿照设计了外围电路和PCB板子，师兄焊了三个板子，好在有一个能用（可以看出芯片真的非常小，确实不好焊）</p>
<p><img src="1.jpg" alt="1" style="zoom: 10%;" /><img src="2.jpg" alt="2" style="zoom:10%;" /></p>
<p>参照网上的这篇文章[(17条消息) <a href="https://blog.csdn.net/Gregory24/article/details/90454735">MPU9250+Arduino/读取传感器数据</a>，跑了他的代码，幸运的可以跑通。这个教程和另外一篇csdn上的文案一模一样，我都不知道谁抄谁的，难绷。</p>
<img src="image-20230707112603099.png" alt="image-20230707112603099" style="zoom:50%;" />

<p>接下来的工作是搞懂代码，修改输出的数据形式，并用蓝牙传输。</p>
]]></content>
      <categories>
        <category>Arduino</category>
      </categories>
      <tags>
        <tag>Arduino</tag>
        <tag>蓝牙</tag>
        <tag>IMU</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+Next-8.17.1美化教程</title>
    <url>/Hexo/Hexo-Next-8-17-1%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p> 这几天也算是查资料+自己研究终于美化了一个自己较为满意的博客。</p>
<p>效果图如下，接下来上教程，版本是Hexo-6.0.0+Next-8.17.1，其它版本文件结构会有所不同。</p>
<p><img src="/Hexo/Hexo-Next-8-17-1%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/image-20230705111333616.png" alt="image-20230705111333616"></p>
<span id="more"></span>

<p>安装和部署可以看我另一篇博客《重拾hexo》，这篇只讲美化部分。</p>
<p>参考文档<a href="https://hexo-next.readthedocs.io/zh_CN/latest/">Hexo-NexT</a>以及<a href="https://zhuanlan.zhihu.com/p/30836436">Hexo+Next主题优化 - 知乎 (zhihu.com)</a>和<a href="https://zhuanlan.zhihu.com/p/252983030">Ubuntu + Hexo + Next 8.0 进阶美化篇二 - 知乎 (zhihu.com)</a></p>
<p>其中很多都可以<strong>在文档找到详细教程</strong>，建议手动查阅文档</p>
<h3 id="0-写在前面"><a href="#0-写在前面" class="headerlink" title="0.写在前面"></a>0.写在前面</h3><p>​    在写这篇教程的时候，我也学到了很多，对next主题的把握和美化过程有了更好的认知，因此有必要在前面写点内容。</p>
<p>​    首先是<code>NexT _config.yml</code>配置文件，配置文件是<strong>按块分布</strong>的，主要有Menu Settings、Sidebar Settings、Footer Settings、Post Settings、Custom Page Settings、Misc Theme Settings等等，可以从名字看出来每块主要的内容，我的这篇教程也因此是<strong>按块写</strong>的。官方文档和这个配置文件配合的很好，真的很建议配合文档食用。</p>
<p>​    然后是，不同版本Next的文件结构会有差异，按照教程美化的时候一定要学会方法。举个例子，在做菜单栏背景圆角和透明的时候，我参考网上的一篇教程，</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">8px</span> <span class="number">7px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>), <span class="number">7px</span> <span class="number">4px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    可是网页并没有发生反应，猜测是元素名字改变了，我在这个目录下寻找<code>blog\themes\next\source\css\_common\outline\header</code>，<code>index.styl</code>里并没有这个header-inner这个元素，相比之下，sidebar-inner就很好的发挥了作用，我尝试了菜单栏的其它元素，包括menu，site-meta，site-nav等等，总有一个白底留在那里，试了一个晚上，真的头疼。第二天早上，F12告诉我那个元素是header.header，试了以下，确实成功了。因此，学会怎么改是最重要的，毕竟，不一定每个版本都有教程。</p>
<p>​    另外，在尝试的过程中，对next的文件结构有了大致的把我，在next根目录中，next\layout中放置的html的相关内容，虽然没学过html，但是尝试着还是修改了部分内容，如修改了归档界面统计日志数量的那行字，删除了前面的语气和后面的“继续加油”。</p>
<p><img src="/Hexo/Hexo-Next-8-17-1%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/image-20230705162241300.png" alt="image-20230705162241300"></p>
<p>​    在<code>next\source\css</code>下则放着有关css的内容，熟悉文件命名的含义，就可以尝试着配合F12自行修改了，因为背景图片的原因，网页底部的灰色字体不太清楚，我就尝试着改成了黑色。当然，不建议这样修改源码，建议通过Next主题提供的个性化文件如styles.styl修改（下文会提到）。</p>
<p>​    最后有个小tips，建议本地预览，修改文件后保存刷新网页即可，不需要再过一遍hexo三连。</p>
<p>记一些文件用途：</p>
<p>next\source\css_mixins.styl 个人理解的css中的函数，主要用来复用。</p>
<h3 id="1-切换布局样式"><a href="#1-切换布局样式" class="headerlink" title="1.切换布局样式"></a>1.切换布局样式</h3><p>在<code>NexT _config.yml</code>文件中修改，Next提供了四种布局，个人最喜欢Pisces，展示主题也是Pisces</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Schemes </span><br><span class="line"># scheme: Muse </span><br><span class="line"># scheme: Mist </span><br><span class="line"> scheme: Pisces </span><br><span class="line"># scheme: Gemini</span><br></pre></td></tr></table></figure>

<p>其中Gemini主题基本样式与Pisces相同，不同点在于网站默认界面在“归档”。</p>
<h3 id="2-添加背景图片"><a href="#2-添加背景图片" class="headerlink" title="2.添加背景图片"></a>2.添加背景图片</h3><p>在<code>NexT _config.yml</code>配置文件中找到这段</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Define custom file paths.</span><br><span class="line"># Create your custom files in site directory `source/_data` and uncomment needed files below.</span><br><span class="line">custom_file_path:</span><br><span class="line">  #head: source/_data/head.njk</span><br><span class="line">  #header: source/_data/header.njk</span><br><span class="line">  #sidebar: source/_data/sidebar.njk</span><br><span class="line">  #postMeta: source/_data/post-meta.njk</span><br><span class="line">  #postBodyStart: source/_data/post-body-start.njk</span><br><span class="line">  #postBodyEnd: source/_data/post-body-end.njk</span><br><span class="line">  #footer: source/_data/footer.njk</span><br><span class="line">  #bodyEnd: source/_data/body-end.njk</span><br><span class="line">  #variable: source/_data/variables.styl</span><br><span class="line">  #mixin: source/_data/mixins.styl</span><br><span class="line">  style: source/_data/styles.styl</span><br></pre></td></tr></table></figure>

<p>可以看到Next为我们提供了个性化的一些接口，去掉最后一行的注释，在<code>\blog\source\</code>文件夹中新建文件夹，命名为<code>_data</code>，在其中新建名为<code>styles.styl</code>的文件，打开编辑，输入以下内容。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//全局布局美化代码</span><br><span class="line">//url:Bolg/themes/next/source/images</span><br><span class="line">body &#123;</span><br><span class="line">    background-image:<span class="built_in">url</span>(<span class="string">/images/Background.jpg</span>);</span><br><span class="line">//图像是否重复</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">//图像固定</span><br><span class="line">    <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">//图像位置</span><br><span class="line">    <span class="attribute">background-position</span>: center;</span><br><span class="line">//宽高占屏幕百分比</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>手动在<code>blog/themes/next/source/images</code>中放入图片命名为Background.jpg即可</p>
<h3 id="3-菜单栏修改"><a href="#3-菜单栏修改" class="headerlink" title="3.菜单栏修改"></a>3.菜单栏修改</h3><p>在<code>NexT _config.yml</code>文件中找到菜单栏部分</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Menu Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<h4 id="3-1-板块数量修改"><a href="#3-1-板块数量修改" class="headerlink" title="3.1 板块数量修改"></a>3.1 板块数量修改</h4><p>默认的菜单栏只有“首页”和“关于”两个板块，Next为我们提供了其它可选项，在<code>NexT _config.yml</code>文件中修改。</p>
<p>找到Menu Settings，可以看到menu下有很多其它可选项，通过用法说明可以明白，冒号前是板块名字，后面分别是目录和图标，其中图标可以自行到<a href="https://fontawesome.dashgame.com/">Font Awesome，一套绝佳的图标字体库和CSS框架 (dashgame.com)</a>替换成心仪的图标。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Usage: `Key: /link/ || icon`</span><br><span class="line"># Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-sensitive.</span><br><span class="line"># Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.</span><br><span class="line"># External url should start with http:// or https://</span><br><span class="line">menu:</span><br><span class="line">  home: / || fa fa-home</span><br><span class="line">  about: /about/ || fa fa-user</span><br><span class="line">  tags: /tags/ || fa fa-tags</span><br><span class="line">  categories: /categories/ || fa fa-th</span><br><span class="line">  archives: /archives/ || fa fa-archive</span><br><span class="line">  #schedule: /schedule/ || fa fa-calendar</span><br><span class="line">  #sitemap: /sitemap.xml || fa fa-sitemap</span><br><span class="line">  #commonweal: /404/ || fa fa-heartbeat</span><br></pre></td></tr></table></figure>

<p>可以参考我的配置，我增加了标签(tags)、分类(categories)和归档(archives)。</p>
<p>另外，还需要对一些选项进行配置，建议参考<a href="https://hexo-next.readthedocs.io/zh_CN/latest/next/base/%E8%8F%9C%E5%8D%95%E6%A0%8F/">菜单栏 - Hexo-NexT</a></p>
<p>配置文件中紧随其后可以对菜单后面的数字进行设置。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Enable / Disable menu icons / item badges.</span><br><span class="line">menu_settings:</span><br><span class="line">  icons: true</span><br><span class="line">  badges: true</span><br></pre></td></tr></table></figure>

<p>badges设置为true可以显示数字。</p>
<h4 id="3-2-自定义菜单"><a href="#3-2-自定义菜单" class="headerlink" title="3.2 自定义菜单"></a>3.2 自定义菜单</h4><p>除了给出的配置外，也可以<strong>自定义</strong>，比如，我想增加一个读书笔记，先去font awesome网站找到一个合适的图标，复制链接。然后在菜单新增一行<code>readnotes: /readnotes/ || fa fa-book</code>，到根目录输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page readnotes</span><br></pre></td></tr></table></figure>

<p>这个时候本地预览就能看到新的菜单了，不过显示是英文，而且不能新增笔记什么的，所以我们还要进行其它配置</p>
<img src="image-20230706115610737.png" alt="image-20230706115610737" style="zoom:50%;" />

<p>首先到<code>source/readnotes/index.md</code>里，修改如下：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">title: 读书笔记</span><br><span class="line">date: 2023-07-06 11:52:27</span><br><span class="line">type: readnotes</span><br><span class="line">comments: false</span><br></pre></td></tr></table></figure>

<p>然后到<code>blog\themes\next\languages\zh-CN.yml</code>里，menu下新增一行映射<code>readnotes: 读书笔记</code>，这样显示的就会是中文了</p>
<p>接下来是定制点击读书笔记菜单后出现的页面，我们可以仿照“归档”的页面，归档是以时间线呈现的</p>
<h4 id="3-3-搜索服务"><a href="#3-3-搜索服务" class="headerlink" title="3.3 搜索服务"></a>3.3 搜索服务</h4><p>参考<a href="https://hexo-next.readthedocs.io/zh_CN/latest/next/advanced/%E6%90%9C%E7%B4%A2%E6%9C%8D%E5%8A%A1/">搜索服务 - Hexo-NexT</a></p>
<h4 id="3-4-样式修改"><a href="#3-4-样式修改" class="headerlink" title="3.4 样式修改"></a>3.4 样式修改</h4><p>在<code>styles.styl</code>文件中添加以下内容，可根据我的注释按个人喜好修改</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//菜单栏整体背景</span><br><span class="line"><span class="selector-tag">header</span><span class="selector-class">.header</span> &#123;</span><br><span class="line">	//距离最上边的距离</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">    //背景颜色，最后一个参数<span class="number">0</span>-<span class="number">1</span>代表透明度，越低越透明</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">0.7</span>);</span><br><span class="line">    //圆角，分别为左上，右上，右下，左下</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line">    //阴影</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">8px</span> <span class="number">7px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>), <span class="number">7px</span> <span class="number">4px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>);   	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//菜单栏上部黑框</span><br><span class="line"><span class="selector-class">.site-brand-container</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.9</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">0px</span> <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-侧边栏修改"><a href="#4-侧边栏修改" class="headerlink" title="4.侧边栏修改"></a>4.侧边栏修改</h3><p>在<code>NexT _config.yml</code>配置文件中找到这段，侧边栏设置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Sidebar Settings</span><br><span class="line"># See: https://theme-next.js.org/docs/theme-settings/sidebar</span><br><span class="line"># ---------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<h4 id="4-1-添加头像"><a href="#4-1-添加头像" class="headerlink" title="4.1 添加头像"></a>4.1 添加头像</h4><p>在后面找到头像设置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line">avatar:</span><br><span class="line">  # Replace the default image and set the url here.</span><br><span class="line">  url: /images/first.png #</span><br><span class="line">  # If true, the avatar will be displayed in circle.</span><br><span class="line">  rounded: true</span><br><span class="line">  # If true, the avatar will be rotated with the cursor.</span><br><span class="line">  rotated: false</span><br></pre></td></tr></table></figure>

<p>url后面为头像的地址，具体在<code>blog\themes\next\source\images</code></p>
<p>rounded：代表头像框类型，true为圆形，false为方形</p>
<p>rotated：为头像旋转特效，true时，鼠标放在头像上会旋转。</p>
<h4 id="4-2-添加github链接和email"><a href="#4-2-添加github链接和email" class="headerlink" title="4.2 添加github链接和email"></a>4.2 添加github链接和email</h4><p>继续在配置文件下方找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Social Links</span><br><span class="line"># Usage: `Key: permalink || icon`</span><br><span class="line"># Key is the link label showing to end users.</span><br><span class="line"># Value before `||` delimiter is the target permalink, value after `||` delimiter is the name of Font Awesome icon.</span><br><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/yourgithubname || fab fa-github</span><br><span class="line">  E-Mail: mailto:youremail@126.com || fa fa-envelope</span><br><span class="line">  #Weibo: https://weibo.com/yourname || fab fa-weibo</span><br><span class="line">  #Twitter: https://twitter.com/yourname || fab fa-twitter</span><br><span class="line">  #FB Page: https://www.facebook.com/yourname || fab fa-facebook</span><br><span class="line">  #StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span><br><span class="line">  #YouTube: https://youtube.com/yourname || fab fa-youtube</span><br><span class="line">  #Instagram: https://instagram.com/yourname || fab fa-instagram</span><br><span class="line">  #Skype: skype:yourname?call|chat || fab fa-skype</span><br></pre></td></tr></table></figure>

<p>social:后为可以添加的内容，格式也在usage中说明了，可以根据需要添加，也可以自定义内容。</p>
<h4 id="4-3-样式修改"><a href="#4-3-样式修改" class="headerlink" title="4.3 样式修改"></a>4.3 样式修改</h4><p>修改透明度，添加圆角和阴影。</p>
<p>在<code>styles.styl</code>中添加以下内容</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.sidebar-inner</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">0.7</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">8px</span> <span class="number">7px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>), <span class="number">7px</span> <span class="number">4px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>每一行的意义可以参考<a href="#3.%E8%8F%9C%E5%8D%95%E6%A0%8F%E4%BF%AE%E6%94%B9">3.菜单栏修改</a></p>
<h3 id="5-文章部分修改"><a href="#5-文章部分修改" class="headerlink" title="5.文章部分修改"></a>5.文章部分修改</h3><p>在<code>NexT _config.yml</code>中找到Post Setting部分</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Post Settings</span><br><span class="line"># See: https://theme-next.js.org/docs/theme-settings/posts</span><br><span class="line"># ---------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<h4 id="5-1-增加更新日期和字数统计"><a href="#5-1-增加更新日期和字数统计" class="headerlink" title="5.1 增加更新日期和字数统计"></a>5.1 增加更新日期和字数统计</h4><p>更新日期：在<code>NexT _config.yml</code>中post setting 下方找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Post meta display settings</span><br><span class="line">post_meta:</span><br><span class="line">  item_text: true</span><br><span class="line">  created_at: true</span><br><span class="line">  updated_at:</span><br><span class="line">    enable: true</span><br><span class="line">    another_day: true</span><br><span class="line">  categories: true</span><br></pre></td></tr></table></figure>

<p>updated_at:enable后设置为true，即可显示更新日期。</p>
<p>字数统计可以参考<a href="https://hexo-next.readthedocs.io/zh_CN/latest/next/advanced/%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1/">字数统计 - Hexo-NexT</a></p>
<h4 id="5-2-打开文章底部tag图标"><a href="#5-2-打开文章底部tag图标" class="headerlink" title="5.2 打开文章底部tag图标"></a>5.2 打开文章底部tag图标</h4><p>继续在<code>NexT _config.yml</code>中post setting 下方找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Use icon instead of the symbol # to indicate the tag at the bottom of the post</span><br><span class="line">tag_icon: true</span><br></pre></td></tr></table></figure>

<p>设置为true即可</p>
<h4 id="5-3-添加评论"><a href="#5-3-添加评论" class="headerlink" title="5.3 添加评论"></a>5.3 添加评论</h4><p>可以使用gitalk，参考[<a href="https://hexo-next.readthedocs.io/zh_CN/latest/next/advanced/gitalk-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/">Gitalk]评论系统 - Hexo-NexT</a>，不过未知原因连不上，改用waline，参考<a href="https://waline.js.org/guide/get-started/"> Waline</a>和<a href="https://blog.csdn.net/jiunian_2761/article/details/122621667">Hexo博客进阶：为 Next 主题添加 Waline 评论系统</a>，需要注意的是，博客所提供的配置可能过时，可以到<code>blog\node_modules\@waline\hexo-next\default.yaml</code>提取自己需要的配置到主题配置文件中。</p>
<p>另外，可以使用<a href="http://blog.daovoice.io/daovocie_manhua/?utm_source=DaoCloud&utm_campaign=39_campaign&utm_medium=daovoice_widget&utm_term=footer_link&utm_content=one_min">DaoVoice </a></p>
<h4 id="5-4-样式修改"><a href="#5-4-样式修改" class="headerlink" title="5.4 样式修改"></a>5.4 样式修改</h4><h5 id="5-4-1-分割线修改"><a href="#5-4-1-分割线修改" class="headerlink" title="5.4.1 分割线修改"></a>5.4.1 分割线修改</h5><p>原版首页文章之间是以间距与一条短横线作为分文标记的，可以修改也可以删除</p>
<p>进入<code>bolg/themes/next/source/css/_common/components/post/post-footer.styl</code>，找到</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-eof</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: $grey-light;</span><br><span class="line">  //不想要横线的可以删除下面三行</span><br><span class="line">  //修改宽度</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">  //修改离正文距离</span><br><span class="line">  <span class="attribute">margin</span>: $post-eof-margin-top auto $post-eof-margin-bottom;</span><br><span class="line">  //修改长度占比</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-block</span><span class="selector-pseudo">:last-of-type</span> &amp; &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我这边删除了短横线，为下一步美化做准备。</p>
<h5 id="5-4-2-post背景设置为透明"><a href="#5-4-2-post背景设置为透明" class="headerlink" title="5.4.2 post背景设置为透明"></a>5.4.2 post背景设置为透明</h5><p>在<code>styles.styl</code>中添加以下内容</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.main-inner</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    //控制元素内边距，依次为上右下左</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">40px</span> <span class="number">40px</span> <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-4-3-宽度修改"><a href="#5-4-3-宽度修改" class="headerlink" title="5.4.3 宽度修改"></a>5.4.3 宽度修改</h5><p>修改文件<code>source/css/_variables/Pisces.styl</code>，根据主题选择修改的文件。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$content-desktop              = &#x27;calc(100% - %s)&#x27; % unit($content-desktop-padding / 2, &#x27;px&#x27;);</span><br><span class="line">$content-desktop-large        = 80em;</span><br><span class="line">$content-desktop-largest      = 80%;</span><br></pre></td></tr></table></figure>

<p>主要影响元素为第二行，多修改尝试即可</p>
<h5 id="5-4-4-post-block样式修改"><a href="#5-4-4-post-block样式修改" class="headerlink" title="5.4.4 post-block样式修改"></a>5.4.4 post-block样式修改</h5><p>post-block就是右侧的一篇篇文章板块</p>
<p>在<code>styles.styl</code>中添加以下内容</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-block</span>&#123;</span><br><span class="line">    	//背景颜色及透明度</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">1</span>);</span><br><span class="line">    	//设置元素的顶部外边离相邻元素的距离</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">24px</span>;</span><br><span class="line">    	//设置元素的底部外边离相邻元素的距离</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">24px</span>;</span><br><span class="line">    	//控制元素内边距</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">    	//圆角</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line">    	//阴影</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">8px</span> <span class="number">7px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>), <span class="number">7px</span> <span class="number">4px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-网页底部修改"><a href="#6-网页底部修改" class="headerlink" title="6.网页底部修改"></a>6.网页底部修改</h3><h4 id="6-1-心形修改"><a href="#6-1-心形修改" class="headerlink" title="6.1 心形修改"></a>6.1 心形修改</h4><p>提供两种改动方式：1.改为其它图标。2.改为其它文字或者删除。</p>
<p>第一种：在<code>NexT _config.yml</code>中找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Footer Settings</span><br><span class="line"># See: https://theme-next.js.org/docs/theme-settings/footer</span><br><span class="line"># ---------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>往下找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">icon:</span><br><span class="line">  # Icon name in Font Awesome. See: https://fontawesome.com/icons</span><br><span class="line">  name: fa fa-heart</span><br><span class="line">  # If you want to animate the icon, set it to true.</span><br><span class="line">  animated: false</span><br><span class="line">  # Change the color of icon, using Hex Code.</span><br><span class="line">  color: &quot;#ff0000&quot;</span><br></pre></td></tr></table></figure>

<p>可以修改图标开关、内容、和颜色</p>
<p>第二种：进入<code>blog\themes\next\layout\_partials\footer.njk</code>，找到相似部分并修改，我这里由于修改过，不记得原文了，这里是把心形修改为了“by”（第6行），当然也可以直接删除。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;%- if theme.footer.copyright !== false %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;copyright&quot;</span>&gt;</span></span><br><span class="line">    &#123;%- set copyright_year = date(null, &#x27;YYYY&#x27;) %&#125;</span><br><span class="line">    <span class="symbol">&amp;copy;</span> &#123;% if theme.footer.since and theme.footer.since != copyright_year %&#125;&#123;&#123; theme.footer.since &#125;&#125; – &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">&quot;copyrightYear&quot;</span>&gt;</span>&#123;&#123; copyright_year &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span> by <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;author&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;copyrightHolder&quot;</span>&gt;</span>&#123;&#123; theme.footer.copyright or author &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-2-强力驱动修改"><a href="#6-2-强力驱动修改" class="headerlink" title="6.2 强力驱动修改"></a>6.2 强力驱动修改</h4><p>提供两种修改方式：1.关闭功能。2.修改文字</p>
<p>第一种：在<code>NexT _config.yml</code>中找到footer setting部分后，继续往下找到<code>powered</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Powered by Hexo &amp; NexT</span><br><span class="line">powered: true</span><br></pre></td></tr></table></figure>

<p>设置为false即可关闭</p>
<p>同理可以开关<code>copyright</code>部分</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># If not defined, `author` from Hexo `_config.yml` will be used.</span><br><span class="line"># Set to `false` to disable the copyright statement.</span><br><span class="line">copyright:</span><br></pre></td></tr></table></figure>

<p>第二种：进入<code>blog\themes\next\layout\_partials\footer.njk</code>，找到最后部分，改为如下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;%- if theme.footer.powered %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;Thanks&quot;</span>&gt;</span></span><br><span class="line">    &#123;%- set next_site = &#x27;https://theme-next.js.org&#x27;  + &#x27;/&#x27; %&#125;</span><br><span class="line">    &#123;&#123;- __(&#x27; Thanks &#x27; + next_url(&#x27;https://hexo.io&#x27;, &#x27;Hexo&#x27;) + &#x27; &amp; &#x27; + next_url(next_site, &#x27;NexT&#x27;)) &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>

<p>这是修改后的效果，可以自行修改为其它文字</p>
<p><img src="/Hexo/Hexo-Next-8-17-1%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/image-20230705152458588.png" alt="image-20230705152458588"></p>
<h3 id="7-其它美化"><a href="#7-其它美化" class="headerlink" title="7.其它美化"></a>7.其它美化</h3><h4 id="7-1-右上角增加github"><a href="#7-1-右上角增加github" class="headerlink" title="7.1 右上角增加github"></a>7.1 右上角增加github</h4><p>在<code>NexT _config.yml</code>中找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># `Follow me on GitHub` banner in the top-right corner.</span><br><span class="line">github_banner:</span><br><span class="line">  enable: true</span><br><span class="line">  permalink: https://github.com/Astonefishsky</span><br></pre></td></tr></table></figure>

<p>设置为true并修改链接即可</p>
<h4 id="7-2-静态资源压缩"><a href="#7-2-静态资源压缩" class="headerlink" title="7.2 静态资源压缩"></a>7.2 静态资源压缩</h4><p>老规矩，先上版本<img src="image-20230705180717912.png" alt="image-20230705180717912" style="zoom:50%;" /></p>
<p>在部署到github上访问时，图片总是加载的很慢很慢，于是采用静态资源压缩的方式加快访问速度。</p>
<p>在blog目录下安装gulp，和相关插件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install gulp -g</span><br><span class="line">npm install gulp-minify-css --save</span><br><span class="line">npm install gulp-uglify --save</span><br><span class="line">npm install gulp-htmlmin --save</span><br><span class="line">npm install gulp-htmlclean --save</span><br><span class="line">npm install gulp-imagemin --save</span><br></pre></td></tr></table></figure>

<p>在blog根目录新建文件gulpfile.js，写入</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-minify-css&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlmin&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlclean&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-imagemin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imageminGifsicle = <span class="built_in">require</span>(<span class="string">&#x27;imagemin-gifsicle&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imageminMozjpeg = <span class="built_in">require</span>(<span class="string">&#x27;imagemin-mozjpeg&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imageminOptipng = <span class="built_in">require</span>(<span class="string">&#x27;imagemin-optipng&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imageminSvgo = <span class="built_in">require</span>(<span class="string">&#x27;imagemin-svgo&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩html</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-html&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            <span class="attr">removeComments</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyJS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyCSS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyURLs</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩css</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-css&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">        .pipe(minifycss(&#123;</span><br><span class="line">            <span class="attr">compatibility</span>: <span class="string">&#x27;ie8&#x27;</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩js</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-js&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&#x27;./public/js/**/*.js&#x27;</span>)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩图片</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-images&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&#x27;./public/images/**/*.*&#x27;</span>)</span><br><span class="line">        .pipe(imagemin([</span><br><span class="line">        imageminGifsicle (&#123;<span class="string">&#x27;optimizationLevel&#x27;</span>: <span class="number">3</span>&#125;), </span><br><span class="line">        imageminMozjpeg(&#123;<span class="string">&#x27;progressive&#x27;</span>: <span class="literal">true</span>&#125;), </span><br><span class="line">        imageminOptipng(&#123;<span class="string">&#x27;optimizationLevel&#x27;</span>: <span class="number">7</span>&#125;), </span><br><span class="line">        imageminSvgo()],</span><br><span class="line">        &#123;<span class="string">&#x27;verbose&#x27;</span>: <span class="literal">true</span>&#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public/images&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 默认任务【gulp4写法】</span></span><br><span class="line">gulp.task(<span class="string">&#x27;default&#x27;</span>,gulp.parallel( <span class="string">&#x27;minify-html&#x27;</span>,<span class="string">&#x27;minify-css&#x27;</span>,<span class="string">&#x27;minify-js&#x27;</span>,<span class="string">&#x27;minify-images&#x27;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行会一直error，降低imagemin版本解决，原本是8.0.0，降到7.1.0就可以可了</p>
<img src="image-20230705180602479.png" alt="image-20230705180602479" style="zoom:50%;" />

<p>实测可用</p>
<img src="image-20230705180635290.png" alt="image-20230705180635290" style="zoom:50%;" />

<p>不过可以注意到，这部分代码只压缩了<code>public\image\</code>的图片，如果<code>hexo_config</code>中<code>post_asset_folder: true</code>的话，文章的图片会保存在各自的同名文件夹中，因此要修改部分代码，参考一下<a href="https://blog.csdn.net/wildye/article/details/80516847">Gulp .src() 匹配模式详解</a>这个匹配模式，稍加修改，使得可以匹配public下所有gif，png，jpg，jepg，svg格式的图片</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">&#x27;minify-images&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">&#x27;./public/**/*.gif&#x27;</span>,<span class="string">&#x27;./public/**/*.png&#x27;</span>,<span class="string">&#x27;./public/**/*.jpg&#x27;</span>,<span class="string">&#x27;./public/**/*.jepg&#x27;</span>,<span class="string">&#x27;./public/**/*.svg&#x27;</span>])</span><br><span class="line">        .pipe(imagemin([</span><br><span class="line">        imageminGifsicle (&#123;<span class="string">&#x27;optimizationLevel&#x27;</span>: <span class="number">3</span>&#125;), </span><br><span class="line">        imageminMozjpeg(&#123;<span class="string">&#x27;progressive&#x27;</span>: <span class="literal">true</span>&#125;), </span><br><span class="line">        imageminOptipng(&#123;<span class="string">&#x27;optimizationLevel&#x27;</span>: <span class="number">7</span>&#125;), </span><br><span class="line">        imageminSvgo()],</span><br><span class="line">        &#123;<span class="string">&#x27;verbose&#x27;</span>: <span class="literal">true</span>&#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public/images&#x27;</span>))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>效果如下图</p>
<img src="image-20230714181653983.png" alt="image-20230714181653983" style="zoom:50%;" />

<h4 id="7-3-翻页按钮"><a href="#7-3-翻页按钮" class="headerlink" title="7.3 翻页按钮"></a>7.3 翻页按钮</h4><p>设置背景后，由于翻页部分背景默认透明且按钮透明，所以要修改一下按钮部分。</p>
<p>在<code>styles.styl</code>中添加以下内容</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//翻页按钮</span><br><span class="line"><span class="selector-class">.page-number</span> &#123;</span><br><span class="line">	//白色近透明</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">0.85</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>), <span class="number">2px</span> <span class="number">2px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>);    </span><br><span class="line">&#125;</span><br><span class="line">//翻页框</span><br><span class="line"><span class="selector-class">.pagination</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">255</span> ,<span class="number">0.7</span>);</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">8px</span> <span class="number">7px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>), <span class="number">7px</span> <span class="number">4px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当前选中按钮的颜色要到原代码文件中修改，找到<code>themes\next\source\css\_common\scaffolding\pagination.styl</code>和<code>themes\next\source\css\_variables\base.styl</code>，在<code>pagination.styl</code>中可以看到如下，选中按钮的背景颜色为<code>$pagination-active-bg</code></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">$page-number-current &#123;</span><br><span class="line">  <span class="attribute">background</span>: $pagination-active-bg;</span><br><span class="line">  <span class="attribute">border-color</span>: $pagination-active-border;</span><br><span class="line">  <span class="attribute">color</span>: $pagination-active-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们打开<code>base.styl</code>，找到<code>$pagination-active-bg</code>,修改为想要的颜色即可，如我这里修改为橙色</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$orange-light     =#ff9933</span><br><span class="line">$pagination-active-bg           = $orange-light;</span><br></pre></td></tr></table></figure>

<p>其它部分可同理按喜好修改</p>
<h4 id="7-4-字体修改"><a href="#7-4-字体修改" class="headerlink" title="7.4 字体修改"></a>7.4 字体修改</h4><p>参考<a href="https://bambrow.com/20200718-hexo-next-font-settings/#fn1">Hexo NexT 主题的字体更换 | Bambrow’s Blog</a></p>
<h4 id="7-5-添加站长验证"><a href="#7-5-添加站长验证" class="headerlink" title="7.5 添加站长验证"></a>7.5 添加站长验证</h4><p>添加站长验证，以让各搜索引擎收录我们的网站。</p>
<p>在<code>NexT _config.yml</code>中找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># SEO Settings</span><br><span class="line"># See: https://theme-next.js.org/docs/theme-settings/seo</span><br><span class="line"># ---------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>然后往下，有Google，Bing，Yandex，Baidu四个可选引擎。</p>
<p>以谷歌为例，进入<a href="https://search.google.com/search-console">谷歌Search Console网站</a>，选择右侧网址前缀类型，输入自己的博客网址即<code>https://yourgithubname.github.io</code></p>
<img src="image-20230712155406695.png" alt="image-20230712155406695" style="zoom: 50%;" />

<p>然后点击继续，选择HTML标记类型，按照要求复制HTML标记，打开<code>NexT _config.yml</code>里对应的谷歌站长验证部分，将content字段的内容复制（不包含双引号）到<code>google_site_verification</code>后即可。</p>
<img src="image-20230712155736916.png" alt="image-20230712155736916" style="zoom: 50%;" />

<p>最后hexo三连，等待网站更新后，点击验证即可看到验证成功。不知道是否更新成功的可以在网站首页打开F12，看看第一个head里有没有<code>google_site_verification</code>，如下图</p>
<img src="image-20230712160256903.png" alt="image-20230712160256903" style="zoom:67%;" />

<p>其它搜索引擎方法类似，其中Bing可以直接导入谷歌已验证的网站，跳过验证过程，而百度需要填写较多信息，看自己需求吧。验证过后都会有1-2天的处理时间，最好尽快提交站点地图以加快进度。关于站点地图，可自行百度。</p>
<img src="image-20230712161817510.png" alt="image-20230712161817510" style="zoom:50%;" />

]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Next</tag>
        <tag>博客美化</tag>
      </tags>
  </entry>
  <entry>
    <title>Next主题在首页显示图片</title>
    <url>/Hexo/Next%E4%B8%BB%E9%A2%98%E5%9C%A8%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<p> 无意间发现的一种显示图片的方法。</p>
<span id="more"></span>

<p>在尝试自定义菜单栏，然后打算模仿post-collapse文件写一个新模板时，发现它有一行是 <code>&#123;&#123; post_gallery(post.photos) &#125;&#125;</code>（23行）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">&quot;http://schema.org/Article&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;post-header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">time</span> <span class="attr">itemprop</span>=<span class="string">&quot;dateCreated&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">datetime</span>=<span class="string">&quot;&#123;&#123; moment(post.date).format() &#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">content</span>=<span class="string">&quot;&#123;&#123; date(post.date, config.date_format) &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; date(post.date, &#x27;MM-DD&#x27;) &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-title&quot;</span>&gt;</span></span><br><span class="line">      &#123;%- if post.link %&#125;&#123;# Link posts #&#125;</span><br><span class="line">        &#123;%- set postTitleIcon = &#x27;<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-external-link-alt&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>&#x27; %&#125;</span><br><span class="line">        &#123;%- set postText = post.title or post.link %&#125;</span><br><span class="line">        &#123;&#123; next_url(post.link, postText + postTitleIcon, &#123;class: &#x27;post-title-link post-title-link-external&#x27;, itemprop: &#x27;url&#x27;&#125;) &#125;&#125;</span><br><span class="line">      &#123;% else %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;post-title-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;url&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123; post.title or __(&#x27;post.untitled&#x27;) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    &#123;&#123; post_gallery(post.photos) &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>于是猜想这是显示图片用的，但是具体图片的链接是什么呢，尝试着在文章头部加了一条新的属性photos，然后仿照在正文里插入图片的方法，写了图片的链接（正文里图片链接根目录为同名文件夹），即<code>photos: test.jpg</code>，但是意外的是，图片并没有正常显示。</p>
<p>我打开F12，定位到图片位置，发现为<code>img src = &quot;/test.jpg&quot;</code>，对比了一下正文后，我发现了问题所在。在Hexo处理之后，它会根据根目录下<code>_config.yml</code>里<code>permalink: :category/:title/</code>，来将内容放置在public文件夹下。按照我的设置，它是放置在<code>public/Hexo/Next主题在首页显示图片/</code>下，于是我修改链接为<code>Hexo/Next主题在首页显示图片/test.jpg</code>后，图片成功显示，效果如下：</p>
<img src="image-20230706165412088.png" alt="image-20230706165412088" style="zoom:50%;" />

<p>同样，图片在归档界面同样会显示，如果不想显示的话，可以在<code>blog\themes\next\layout\_macro\post-collapse.njk</code>中删去那一行。</p>
<p>值得一提的是，如果有每篇文章都显示图片的需求，可以在<code>blog\scaffolds\post.md</code>中加上photos这一行，但是，<code>photos: :categories/:title/test.jpg</code>这样的写法并不有效。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>图片显示</tag>
      </tags>
  </entry>
  <entry>
    <title>bat脚本使用小tips</title>
    <url>/%E9%9A%8F%E7%AC%94/bat%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%B0%8Ftips/</url>
    <content><![CDATA[<p> 使用bat脚本时的一些小tips</p>
<span id="more"></span>

<p>1.echo off的作用</p>
<p>参考这个，讲的很详细<a href="https://blog.csdn.net/qq_39071599/article/details/111477894">bat文件的@echo off是什么作用？_</a></p>
<p>简单来讲就是，echo是回显的作用，会显示这条命令后的内容，而echo off就是关闭回显，但是不包括这条命令，@echo off就是关闭回显且包括这条命令</p>
<p>2.在bat里调用其它bat</p>
<p>两种方式，一种是call，在本bat窗口调用，另一种是start，会另开一个窗口</p>
<p>这里以一个情景为例，在Desktop文件夹里我创建了test.bat文件，想要调用Desktop\test文件夹下三个bat文件，分别为1.bat,2.bat,3.bat，三个文件内容相同均为：</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>由于没有加入pause，脚本会在迅速执行后自动关闭窗口</p>
<p>那么我在test.bat文件中写入</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cd</span> test</span><br><span class="line"><span class="built_in">start</span> <span class="number">1</span>.bat</span><br><span class="line"><span class="built_in">start</span> <span class="number">2</span>.bat</span><br><span class="line"><span class="built_in">start</span> <span class="number">3</span>.bat</span><br></pre></td></tr></table></figure>

<p>期望的效果是，分别调用三个窗口，执行后自动关闭窗口，但是实际的效果是留下了三个窗口，如图</p>
<img src="image-20230803233034468.png" alt="image-20230803233034468" style="zoom: 67%;" />

<p>要想自动关闭这个窗口，在三个文件结尾加入exit即可。</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure>

<p>另外，如果是一直执行的脚本，不能exit，但我们又不想手动去最小化每个窗口，那么，只要在test.bat的start后加入参数”/min”即可</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cd</span> test</span><br><span class="line"><span class="built_in">start</span> /min <span class="number">1</span>.bat</span><br><span class="line"><span class="built_in">start</span> <span class="number">2</span>.bat</span><br><span class="line"><span class="built_in">start</span> <span class="number">3</span>.bat</span><br></pre></td></tr></table></figure>

<p>这样就会在启动新窗口时自动最小化了。其它可用的参数如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">“title” 指定在“命令提示符”窗口标题栏中显示的标题。</span><br><span class="line">/dpatch 指定启动目录。</span><br><span class="line">/i 将 Cmd.exe 启动环境传送到新的“命令提示符”窗口。</span><br><span class="line">/min 启动新的最小化窗口。</span><br><span class="line">/max 启动新的最大化窗口。</span><br><span class="line">/separate 在单独的内存空间启动 16 位程序。</span><br><span class="line">/shared 在共享的内存空间启动 16 位程序。</span><br><span class="line">/low 以空闲优先级启动应用程序。</span><br><span class="line">/normal 以一般优先级启动应用程序。</span><br><span class="line">/high 以高优先级启动应用程序。</span><br><span class="line">/realtime 以实时优先级启动应用程序。</span><br><span class="line">/abovenormal 以超出常规优先级的方式启动应用程序。</span><br><span class="line">/belownormal 以低出常规优先级的方式启动应用程序。</span><br><span class="line">/wait 启动应用程序，并等待其结束。</span><br><span class="line">/b 启动应用程序时不必打开新的“命令提示符”窗口。除非应用程序启用 CTRL+C，否则将忽略 CTRL+C 操作。使用 CTRL+BREAK 中断应用程序。</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>bat</tag>
        <tag>脚本</tag>
      </tags>
  </entry>
  <entry>
    <title>c++期末笔记</title>
    <url>/SJTU/c-%E6%9C%9F%E6%9C%AB%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>程序设计思想与方法-期末复习</p>
<span id="more"></span>

<h2 id="显示字符串首地址"><a href="#显示字符串首地址" class="headerlink" title="显示字符串首地址"></a>显示字符串首地址</h2><p>如果这样</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">5</span>] = <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">cout&lt;&lt;str;</span><br></pre></td></tr></table></figure>

<p>并不会输出字符串首地址，而是会将这个地址作为一个字符串的首地址，输出这个地址以后的所有内容，直到遇到结束符’\0’。如，这个例子输出结果为”abcd“。</p>
<p>所以可以这样</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">5</span>] = <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">cout&lt;&lt;(<span class="keyword">void</span>*)str;</span><br></pre></td></tr></table></figure>

<p>把字符指针，强制转化为void 指针，void * 指的是，这个指针可以指向任何类型的数据。这样输出结果就是str的首地址。</p>
<h2 id="结构体内存分配"><a href="#结构体内存分配" class="headerlink" title="结构体内存分配"></a>结构体内存分配</h2><p>首先，结构在C语言中也是一种数据类型，叫做聚组类型（还包括数组）。他和其他的数据类型是一样的，在定义一个结构体的时候，系统并不会为他真正的分配内存空间(定义的结构体变量要在编译的阶段才分配空间，而结构体指针要显示的使用malloca来分配空间)，也就是说，在定义结构体这种数据类型的时候是不会分配内存空间的，只有在定义变量的时候，才会分配。</p>
<p>下面是摘自百度百科 对结构题存储的三点：</p>
<p><strong>1) 结构体变量的首地址能够被其最宽基本类型成员的大小所整除；</strong>　　</p>
<p><strong>2) 结构体每个成员相对于结构体首地址的偏移量都是成员大小的整数倍，如有需要编译器会  在成员之间加上填充字节；</strong></p>
<p><strong>3) 结构体的总大小为结构体最宽基本类型成员大小的整数倍，如有需要编译器会在最末一个成员之后加上填充字节</strong></p>
<p><strong>下面是来自《c和指针》的介绍</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">s1</span>&#123;</span></span><br><span class="line">　　<span class="keyword">char</span> a;</span><br><span class="line">　　<span class="keyword">int</span> b;</span><br><span class="line">　　<span class="keyword">char</span> c;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>首先，结构体在存储的时候，结构体的首地址必须能够被其中最宽数据类型整除。（在s1中，最宽数据类型为int，在32位系统中为4Byte），</strong></p>
<p><strong>其次，参照第二条，第一个数据时char（已经保证了，结构的起始地址是4的整数倍），存储一个char,占一个Byte,要保证下一个int的存储起始地址是4的整数倍，所以要在char后面填充三个Byte，然后在存储第三个数据。</strong></p>
<p><strong>第三，最后一个也是char类型，他就占一个Byte，肯定是他存储位置的整数倍，最后参照第三条，结构体的总大小为最宽数据类型的整数倍，所以会在第二个char之后再填充三个Byte。</strong></p>
<p><strong>这样的话，总共占据的空间是1+3+4+1+3 = 12（红色为填充字符）</strong></p>
<p><strong>【但是】，调换一下结构中数据成员的顺序</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">s1</span>&#123;</span></span><br><span class="line">　　<span class="keyword">int</span> b;</span><br><span class="line">　　<span class="keyword">char</span> a;</span><br><span class="line">　　<span class="keyword">char</span> c;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>同样地分析4+1+1+2 = 8</strong></p>
<p><strong>相比之下，存储空间的效率提高33%。</strong></p>
<p>以下是系统对结构体的内存分配的详细介绍：</p>
<p>1、结构体变量的首地址是结构体中最宽数据类型的整数倍。</p>
<p>　　编译器在给结构体开辟空间时，首先找到结构体中最宽的基本数据类型，然后寻找内存地址能是该基本数据类型的整倍的位置，作为结构体的首地址。</p>
<p><strong>2</strong>、结构体每个成员相对于结构体首地址的偏移量（offset）都是成员大小的整数倍，如有需要编译器会在成员之间加上填充字节。</p>
<p>　　为结构体的一个成员开辟空间之前，编译器首先检查预开辟空间的首地址相对于结构体首地址的偏移是否是本成员的整数倍，若是，则存放本成员，反之，则在本成员和上一个成员之间填充一定的字节，以达到整数倍的要求，也就是将预开辟空间的首地址后移几个字节。</p>
<p><strong>3、结构体的总大小为结构体中最宽基本数据成员的整数倍。如有需要，编译器将会在结构体的添加填充字符。</strong></p>
<p><strong>4、结构体中的数据成员按照所占空间从大到小的顺序来排列的话，这样存储空间就会得以提高。</strong></p>
<p><strong>4、现在对四条进行修正。在组织数据结构的数据成员的时候，可以将相同类型的成员放在一起，这样就减少了编译器为了对齐而添加的填充字符。</strong></p>
<p>【摘自<a href="https://www.cnblogs.com/qiumingcheng/p/11297988.html">结构体的内存分配机制 - 邱明成 - 博客园 (cnblogs.com)</a>】</p>
<h2 id="C-建立动态二维数组"><a href="#C-建立动态二维数组" class="headerlink" title="C++建立动态二维数组"></a>C++建立动态二维数组</h2><h3 id="1-使用数组指针，分配一个指针数组，将其首地址保存在b中，然后再为指针数组的每个元素分配一个数组"><a href="#1-使用数组指针，分配一个指针数组，将其首地址保存在b中，然后再为指针数组的每个元素分配一个数组" class="headerlink" title="1.使用数组指针，分配一个指针数组，将其首地址保存在b中，然后再为指针数组的每个元素分配一个数组"></a>1.使用数组指针，分配一个指针数组，将其首地址保存在b中，然后再为指针数组的每个元素分配一个数组</h3><p>​              </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">int</span> **b=<span class="keyword">new</span> <span class="keyword">int</span>*[row];       <span class="comment">//分配一个指针数组，将其首地址保存在b中                                         for(i=0;i&lt;row;i++)             //为指针数组的每个元素分配一个数组</span></span><br><span class="line">           b[i]=<span class="keyword">new</span> <span class="keyword">int</span>[col];</span><br><span class="line">      </span><br><span class="line">   <span class="comment">// 该方法定义的动态二维数组的释放需先释放指针数组的每个元素指向的数组，然后再释放该指针数组：</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;row;i++)</span><br><span class="line">	&#123;</span><br><span class="line">    	<span class="keyword">delete</span> [col]b[i];</span><br><span class="line">        b[i]=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">delete</span> [row]b;</span><br><span class="line">b=<span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>
<p>具体实现</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> row,column;</span><br><span class="line">	cin&gt;&gt;row&gt;&gt;column;</span><br><span class="line"><span class="comment">//方法一</span></span><br><span class="line"><span class="comment">//申请空间</span></span><br><span class="line">	<span class="keyword">int</span> ** a = <span class="keyword">new</span> <span class="keyword">int</span> *[row];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; row;i++)</span><br><span class="line">	a[i] = <span class="keyword">new</span> <span class="keyword">int</span>[column];</span><br><span class="line"> </span><br><span class="line"><span class="comment">//使用空间</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; row;j++)</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k&lt; column;k++)</span><br><span class="line">		a[j][k] = <span class="built_in">rand</span>()%<span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; row;j++)</span><br><span class="line">&#123;</span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k&lt; column;k++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[j][k] = <span class="built_in">rand</span>()%<span class="number">100</span>;</span><br><span class="line">		cout&lt;&lt;a[j][k]&lt;&lt;<span class="string">&quot;     &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//释放空间</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; row;i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">delete</span> a[i];</span><br><span class="line">	a[i] = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">delete</span> [row]a;</span><br><span class="line">	a = <span class="literal">NULL</span>;	</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="2-利用vector"><a href="#2-利用vector" class="headerlink" title="2.利用vector"></a>2.利用vector</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> row,column;</span><br><span class="line">	cin&gt;&gt;row&gt;&gt;column;</span><br><span class="line"><span class="comment">//方法二</span></span><br><span class="line"><span class="comment">//申请空间</span></span><br><span class="line">	vector&lt;vector&lt;<span class="keyword">int</span>&gt; &gt; <span class="built_in">a</span>(row,vector&lt;<span class="keyword">int</span>&gt;(column));</span><br><span class="line"><span class="comment">//使用空间</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; row;j++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k&lt; column;k++)</span><br><span class="line">			a[j][k] = <span class="built_in">rand</span>()%<span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; row;j++)</span><br><span class="line">&#123;</span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k&lt; column;k++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[j][k] = <span class="built_in">rand</span>()%<span class="number">100</span>;</span><br><span class="line">		cout&lt;&lt;a[j][k]&lt;&lt;<span class="string">&quot;     &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;		</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>SJTU</category>
      </categories>
      <tags>
        <tag>期末复习</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo与typora图片显示问题</title>
    <url>/Hexo/hexo%E4%B8%8Etypora%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>可以说是困扰了将近两年的问题，终于被解决了！</p>
<span id="more"></span>

<p>在我昨天开始写重拾hexo这篇博客的时候，我提到了这个图片显示问题，主要原因是<strong>二者相对路径不统一</strong>。</p>
<p>在旧hexo2上，大多博主采用下载插件方式解决问题，即hexo-asset-image的方式，但随着hexo的更新，hexo-asset-image已经失效，而且官方给出新的嵌入图片的方式。</p>
<img src="image-20230630150252331.png" alt="image-20230630150252331" style="zoom: 67%;" />

<p>经我几番查找，终于找到一个完美的解决方案<a href="https://zhuanlan.zhihu.com/p/265077468">hexo博客如何插入图片 - 知乎 (zhihu.com)</a></p>
<p>首先，按照官方方式将post_asset_folder设置为true，这会使hexo创建新文章时同时在相同目录下创建同名文件夹。</p>
<p>然后在typore的偏好设置中这样设置：</p>
<img src="image-20230630150637228.png" alt="image-20230630150637228" style="zoom:67%;" />

<p>这样，在插入图片时就会放入hexo生成的那个文件夹中了。</p>
<p>最后，在typora-格式-图像-设置图片根目录为hexo生成的文件夹，就能保持hexo和typora二者相对路径保持一致了，完美！</p>
<p>每个文件都要手动设置根目录是绝对不行的，在最后一步中，我们可以发现，设置完根目录后，只是在md文件的开头部分新增了typora-root-url: 根目录，因此，我们可以将其添加进模板中，即进入scaffolds文件夹，进入post.md，添加一行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typora-root-url: &#123;&#123; title &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>至此，算是彻底解决了这个长久以来的问题。</p>
<hr>
<p>发现了个小问题，在直接复制时，typora总会在路径保留一个“/”，不去掉的话，在hexo上无法预览，下面就是一个例子。</p>
<img src="/usb-1688110147484.jpg" alt="usb" style="zoom:67%;" />]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>图片显示</tag>
        <tag>typora</tag>
      </tags>
  </entry>
  <entry>
    <title>《置身事内——中国政府与经济发展》读书笔记</title>
    <url>/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8A%E7%BD%AE%E8%BA%AB%E4%BA%8B%E5%86%85%E2%80%94%E2%80%94%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C%E4%B8%8E%E7%BB%8F%E6%B5%8E%E5%8F%91%E5%B1%95%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p> 一部讲中国政府与经济发展的书籍，作者为复旦大学经济学院教授兰小欢。</p>
<span id="more"></span>

<h3 id="第一章-地方政府的权力与事务"><a href="#第一章-地方政府的权力与事务" class="headerlink" title="第一章    地方政府的权力与事务"></a>第一章    地方政府的权力与事务</h3><h4 id="第一节-政府治理的特点"><a href="#第一节-政府治理的特点" class="headerlink" title="第一节    政府治理的特点"></a>第一节    政府治理的特点</h4><h4 id="第二节-外部性与规模经济"><a href="#第二节-外部性与规模经济" class="headerlink" title="第二节    外部性与规模经济"></a>第二节    外部性与规模经济</h4><h4 id="第三节-复杂信息"><a href="#第三节-复杂信息" class="headerlink" title="第三节    复杂信息"></a>第三节    复杂信息</h4><h4 id="第四节-激励相容"><a href="#第四节-激励相容" class="headerlink" title="第四节    激励相容"></a>第四节    激励相容</h4><h4 id="第五节-招商引资"><a href="#第五节-招商引资" class="headerlink" title="第五节    招商引资"></a>第五节    招商引资</h4><h3 id="第二章-财税和政府行为"><a href="#第二章-财税和政府行为" class="headerlink" title="第二章    财税和政府行为"></a>第二章    财税和政府行为</h3><h4 id="第一节-分税制改革"><a href="#第一节-分税制改革" class="headerlink" title="第一节    分税制改革"></a>第一节    分税制改革</h4><p>​        1980改革开放之后实行承包制，各地形式五花八门，总之是预算内收入中央和地方分成，预算外部分归地方独享，一定程度上提高了地方发展经济的积极性，但同时也造成了地方通过各种手段增加预算外收入，但预算内收入增速缓慢（涉及央地之间的囚徒困境），中央越来越穷的局面，严重削弱了国家财政能力。</p>
<p>​        1994年开始实行分税制改革，把税收分为中央税（如关税）、地方税（如营业税）和共享税（如增值税），其中最重要的税种是增值税，从改革前的地方税种变成了共享税，中央拿75%，地方拿25%，改革后，这一项地方收入会急剧降低，因此在推行改革过程中遇到了不少阻力，“税收返还”机制也是在中央和地方的谈判过程中诞生的。同样实行改革的还有2001年的企业所得税，地方企业从之前的按行政隶属关系上缴，变为了央地64分成。分税制改革是成功的改革之一，扭转了“两个比重”不断下滑的趋势，增强了中央政府的宏观调控能力。</p>
<h4 id="第二节-土地财政"><a href="#第二节-土地财政" class="headerlink" title="第二节    土地财政"></a>第二节    土地财政</h4><p>​        在地方财政收入被各种挤压以及城市土地价值上升的背景下，土地财政诞生了（土地转让属于预算外收入，全部归地方所有）。98年修订的《中华人民共和国土地管理法》规定了农村土地归集体所有，必须通过征地变为国有土地才能用于发展工商业和住宅建设。但是实际上征地指标并不富裕，因此城市土地价值开始攀升。2001年开始，地方大量征收农民土地然后有偿转让，在招标拍卖挂牌的土地转让制度下，土地收入开始激增，2000年土地转让占地方公共预算收入不到10%，但2010年就达到了68%。实际上，土地转让的收入和征地拆迁补偿以及“七通一平”基础性土地开发支出基本相当，地方并不靠卖地赚钱，而是要土地开发带来的工商业经济活动。在出让的土地中，工业用地和商住用地面积差不多各占一半，但是前者由于地方的补贴而价格极低，土地财政中，商住用地转让占了绝大部分，这是工业化和城市化的结果，但是也导致了房价飞涨的问题。</p>
<h4 id="第三节-总想不平衡与横向不平衡"><a href="#第三节-总想不平衡与横向不平衡" class="headerlink" title="第三节    总想不平衡与横向不平衡"></a>第三节    总想不平衡与横向不平衡</h4><p>​        分税制改革后，地方收支缺口由中央转移支付补上，虽然整体能覆盖，但并不是每级政府和每个地区都能补上，存在纵向和横向失衡问题。中央和省分成，省和市县分成，“财权层层上收，事权层层下压”，这就造成了基层财政困难的问题。面对这个问题，政府做了一定的改革探索，例如取消农业税，将农村基本公共服务开支纳入国家公共财政保障范围，在转移支付制度中加入激励机制以精简县乡机构，实行“乡财县管”和“省直管县”改革。这些措施虽有一定成效，但仍未从体制上解决问题。横向失衡则表现为地区间失衡。地区间经济发展差距随着出口飞速增长而逐渐扩大。富裕省份和贫穷省份之间的人均GDP比和人均财政收入比较大，但是人均财政支出却差距不大。转移支付在平衡地区间发展差异中起到了一定作用，但是其中的专项转移支付部分由于择优帮扶和人情关系的原因实际上加大了地方上的不平等。</p>
<h3 id="第三章-政府投融资与债务"><a href="#第三章-政府投融资与债务" class="headerlink" title="第三章    政府投融资与债务"></a>第三章    政府投融资与债务</h3><h4 id="第一节-城投公司与土地金融"><a href="#第一节-城投公司与土地金融" class="headerlink" title="第一节    城投公司与土地金融"></a>第一节    城投公司与土地金融</h4><p><strong>地方政府不能从银行贷款，所以需要成立专门的公司，统称为“地方政府融资平台”</strong>，如上海城市建设投资开发总公司，成都文化旅游发展集团（该集团负责了宽窄巷子的开发）等，用来借钱投资，开发城市项目。这类融资平台有着以下典型特征：一、持有从政府取得的大量土地使用权。二、盈利状况在一定程度上依赖政府补贴。三、政府的隐性担保可以让企业大量借款。</p>
<h4 id="第二节-地方政府债务"><a href="#第二节-地方政府债务" class="headerlink" title="第二节    地方政府债务"></a>第二节    地方政府债务</h4><p>随着城市化和商品房改革，土地价值飙升，政府不仅靠土地使用权转让收入支撑起了“土地财政”，还将未来的土地收益资本化，从银行和其他渠道借入了天量资金，利用“土地金融”的巨力，推动了快速的工业化和城市化。但同时也积累了大量债务。<br>这些债务偿还能力与经济增速或者说土地价格挂钩，一旦经济增速放缓，土地价格下降，累积的债务可能就会压倒融资平台甚至地方政府。为应对2008年经济危机期间，国家放宽了对地方融资平台和银行信贷的限制，融资平台的数量激增，盈利前景不佳的项目也能大量融资，这也导致了地方政府债务的恶化。<br>发明这套为政府开发融资模式的是国开行，之后四大行和城市商业银行也逐渐加入。城商行主要由地方政府控制，存款来源并不稳定，作为融资平台的借款来源容易出现风险。除了银行贷款外，融资方式还有发行债券。<br>2010年开始对地方债务治理，有四项重要的改革，第一是债务置换，用地方政府公债替换融资平台的银行贷款和城投债，降低了债券利率，通过约束限额规范了借债行为。第二是推动融资平台转型，破除政府对其形成的隐性担保。第三是约束银行和各类金融机构，避免大量资金流入融资平台。第四是问责官员，对过度负债行为终身追责。</p>
<h4 id="第三节-招商引资中的地方官员"><a href="#第三节-招商引资中的地方官员" class="headerlink" title="第三节    招商引资中的地方官员"></a>第三节    招商引资中的地方官员</h4><p><strong>我国地方主官任期短，市委书记和市长在一个城市的平均任期不过三四年</strong>，而基础设施和工业项目完成周期最短也要两三年，这也是“新官上任三把火”的原因所在。新上任时会掀起投资热潮，需要土地金融支持，因此土地出让数量增加。这种偏重投资的增长模式后果是政府债务攀升，低风险高收益工业投资项目减少，面子工程数量增加。近年对地方官员政绩考核的改革中，强调不能单纯把地区生产总值增长率作为衡量地方发展成效，要看全面工作。<br>腐败主要有两种形式，第一种是“掠夺式”腐败，如对私营企业乱收款、罚款，向老百姓索贿等，随着各项制度的完善和监督制度的进步，这类腐败大大减少。另一种是“官商勾结共同发财式”腐败，这类腐败仍然存在，虽然短期内可以促进经济增长，但是长期来看有害于经济增长而且会扩大贫富差距。</p>
<h3 id="第四章-工业化中的政府角色"><a href="#第四章-工业化中的政府角色" class="headerlink" title="第四章    工业化中的政府角色"></a>第四章    工业化中的政府角色</h3><h4 id="第二节-光伏发展与政府补贴"><a href="#第二节-光伏发展与政府补贴" class="headerlink" title="第二节    光伏发展与政府补贴"></a>第二节    光伏发展与政府补贴</h4><p>地方政府招商引资的优惠政策会降低产业的准入门槛，但也可能带来重复投资和产能过剩。重复投资也存在好处：从农民培养到工人，积累了大量工人和经验；加剧竞争，“成本创新”，降低了复杂工业品的推广门槛。很多国货都经历过“山寨＋价格战”的阶段。</p>
<p>市场经济根本优势在于可以不断试错，在竞争中优胜劣汰。能保持竞争性的产业政策，与只扶持特定产业的政策相比，效果往往更好。但是到了地方政府，政策终究会落到“特定产业”上，由于政府的不断扶持，会加大“劣汰”的难度，光伏巨头——江西赛维的破产重组案是个鲜明的例子。因此产业政策要有良好的“退出”机制。</p>
<h4 id="第三节-政府产业引导基金"><a href="#第三节-政府产业引导基金" class="headerlink" title="第三节    政府产业引导基金"></a>第三节    政府产业引导基金</h4><p>私募基金就是有限合伙人（LP）把钱交给普通合伙人（GP）去管理和投资，分享投资收益。与公募的区别在于对投资人资格、募资和退出方式等都有特殊方式，不像公募基金那样可以每天买卖。私募基金存在固定存续期，一般为7-10年，期间会经历募资、投资、管理、退出四个阶段，到期必须按照合伙协议分钱和散伙。</p>
<p>国内最大的一类LP就是政府引导基金，与上一章讲的地方政府投资企业相比，政府产业引导基金或投资基金有三个特点：</p>
<ol>
<li>大多数引导基金不直接投资企业，而是做LP将钱交给GP，一个私募基金通常有多个LP，可以用有限的资本来带动更多社会资本投资目标产业，因此称为“产业引导基金”。</li>
<li>GP的运作是市场化的，因此这种方式实际上是借助市场力量去使用财政资金。</li>
<li>大多引导基金的去向是“战略新兴产业”，如芯片和新能源汽车，而不允许投资基础建设和房地产。</li>
</ol>
<p>不过与城投公司类似，政府引导基金也需要成立专门的公司去管理和运营这支基金。投资对象是未上市公司的股权或者上市公司的未公开交易股票和定向增发。</p>
<p>2007年《合伙企业法》的施行为有限合伙制提供了法律支持，本土第一批有限合伙制人民币基金随后成立。随后各项政策不断完善着产业引导基金的制度基础。不过政府引导基金的爆发发展在2014年前后，直接原因是围绕《新预算法》的一系列改革。清科数据显示，2013年全国政府引导基金到位基金约400亿元，而2014年暴增至2122亿元，2015年达到了3773亿元，2016年超过了1万亿元。</p>
<p>政府引导基金在具体实施过程中面临多种困难和挑战：</p>
<ol>
<li>财政资金保值增值目标与风险投资可能亏钱之间的矛盾。不过对于大多数引导基金而言，只要不亏大钱，财务回报率高低并不重要，重要的是能否用引导基金这个工具招商引资，将产业带回本地。</li>
<li>财政资金的地域属性与资本无边界之间的矛盾。机构类LP关注点在于是否挣钱，并不关心钱流向了哪；而地方引导基金的目的却是招商引资，更愿意将产业带回本地。对于长三角、珠三角这样的地区，当然容易完成招商引资的任务。但是对于偏远地区，引导基金为了吸引企业，容易异化为企业的“低息贷款“或者政府的“隐性负债”。</li>
<li>私募资金对于资本市场和资金变化相当敏感，容易募资失败。</li>
<li>引导基金的管理机构没有较好且统一的激励机制。</li>
</ol>
<h3 id="第五章-城市化与不平衡"><a href="#第五章-城市化与不平衡" class="headerlink" title="第五章    城市化与不平衡"></a>第五章    城市化与不平衡</h3><p>土地财政和土地金融虽然推动了工业化和城市化快速发展，但是也导致地方财源高度依赖土地价值，依赖房地产和房价，造成了经济增长、地方财政、银行、房地产之间“一荣俱荣，一损俱损”的关系。这种以土地为中心的城市化忽视了城市化真正的核心：人。今年出台的一系列改革措施都是为了扭转现状，让城市化以人为本。</p>
<h4 id="第一节-房价与居民债务"><a href="#第一节-房价与居民债务" class="headerlink" title="第一节    房价与居民债务"></a>第一节    房价与居民债务</h4><p>1994年分税制改革后，城市化逐渐进入以“土地财政”和“土地金融”为主要推手的阶段。这种模式的关键是房价，所以城市化的矛盾的焦点也是房价。房价在中长期内主要受供需关系决定，一二线城市流入的人口增速大于住宅用地的供给指标，房价增速就大于了居民收入增速。造成这种矛盾的原因之一是供需失衡，人口大量涌入的大城市的居民用地的攻击速度远远赶不上人口增长，而在有些小城市中居住用地增量大于人口增量，房价就涨不上去。</p>
<p><strong>用地指标由中央分配到省，再由省分配到地方，不能在全国交易。</strong>2003年之后的十年间，建设用地指标倾斜到中西部，人口却大量流入东南沿海和大城市，土地流向与人口流向背道而驰，这种矛盾进一步拉大了地区间房价。</p>
<p>居民债务主要来自买房。对于西方，自有房比例在二战前较低，人们习惯租房，二战后才逐渐增加。自有房比例的增加带来的结果是，房产价值占国民财富的比例上升；<strong>房主越来越多，得益于房价上涨的人也就越多，而政府为了讨好这部分选民，不愿让房价下跌</strong>。降低买房首付门槛和按揭利率是政府在选举中的一种政治手段。</p>
<blockquote>
<p>房地产被称作“经济周期之母”的原因就是其内在的供需矛盾：一方面，银行可以通过<a href="https://www.zhihu.com/question/273784238"><strong>按揭</strong></a>创造几乎无限的新购买力；而另一方面，不可再生的城市土地供给却有限。这对矛盾常常会导致资产泡沫与破裂的周期循环，是金融和房地产不稳定的核心矛盾。而房地产不仅连接着银行，还连接着千家万户的财产和消费，因此影响很大。</p>
</blockquote>
<p>2008年之后的十年，我国房价急速上涨，按揭总量也越来越大，居民债务负担上涨了三倍多。债务的攀升也会影响其他消费，例如随着债务增加，居民可支配收入增加，像汽车这样的奢饰品的需求量就会大大降低。</p>
<h4 id="第二节-不平衡与要素市场改革"><a href="#第二节-不平衡与要素市场改革" class="headerlink" title="第二节    不平衡与要素市场改革"></a>第二节    不平衡与要素市场改革</h4><p>相比发达国家，我国的收入差距有两个特点：城乡差距和地区差距。人口流动是缩小收入差距的方法之一，美国各州GDP占比与人口占比基本相当，呈现“规模不平等但人均平等”的局面。我国广州、江苏、浙江、上海和北京等发达地区的人口规模远小于经济规模；而在其他大多省份，经济规模小于人口规模，相对贫穷。（2019年数据）</p>
<p>自由人口流动带来的好处是明显的，但是在现实中仍存在不少争议，主要是担心人口大量涌入会造成住房、教育、医疗、治安等资源紧张。但环节这些资源紧张的根本之道是增加供给，而不是限制需求。提高人口流动性，我国今年所做的改革有：<strong>农村集体经营性建设用地参与流转，以及户籍制度改革</strong>等。这些措施有利于建设城乡统一的建设用地市场，增加了农民落户城市的积极性，降低了落户门槛。但是在一些大型和特大型城市仍存在不低的落户门槛，人口的流动性依然有限。</p>
<h4 id="第三节-经济发展与贫富差距"><a href="#第三节-经济发展与贫富差距" class="headerlink" title="第三节    经济发展与贫富差距"></a>第三节    经济发展与贫富差距</h4><p>城市化过程中贫富差距也在扩大。代际间的财富累积不利于遏制贫富差距，因为有财富的人往往更容易积累财富，资产回报率更高，可选择的投资方式及应对风险的手段也更多。当经济增速放缓、新创造的机会变少之后，年轻人间的竞争会更加激烈，父母的财富优势会更加重要。</p>
<p>收入差距不可能完全消除，社会也难以承受过大的差距带来的剧烈冲突，需要将不平等控制在可容忍的范围之内，影响<strong>不平等容忍度</strong>的因素有很多，其中最重要的是<strong>经济增速</strong>，因为经济增速下降首先受到冲击的便是穷人的收入；另一个因素是<strong>人群的相似性</strong>，改革开放初占据人口多数的是农村人口，人群的相似度较高，有人先富起来能给另一些人带来希望，随着阶级差距的拉大，相似性的降低，穷人就更容易对”先富“这种现象感到愤怒与绝望。</p>
<h3 id="第六章-债务与风险"><a href="#第六章-债务与风险" class="headerlink" title="第六章    债务与风险"></a>第六章    债务与风险</h3><h4 id="第一节-债务与经济衰退"><a href="#第一节-债务与经济衰退" class="headerlink" title="第一节    债务与经济衰退"></a>第一节    债务与经济衰退</h4><p>债务关系让各部门之间的联系变得更加紧密，任何部门出风险都有可能传导到其它部门。负债引起的危机往往来势凶猛，爆发和蔓延速度都很快，容易形成恶性循环。原因在于：一、负债率高的体系中，资产价格的下跌往往迅猛。若债务太重，收入不够还本，甚至不够还息，就只能变卖资产，抛售的人多了，资产价格就会大跳水。2008年美国的次贷危机就是一个例子。二、资产价格下跌会引起信贷收缩，导致资金链断裂。</p>
<p>债务带来的危机会家具不平等，因为债务危机对穷人和富人的打击高度不对称。这种不对称源自债务的特性，即法律优先保护债权人的索赔权，而债权人通常为富人。</p>
<h4 id="第二节-债台为何高筑：欧美的教训"><a href="#第二节-债台为何高筑：欧美的教训" class="headerlink" title="第二节    债台为何高筑：欧美的教训"></a>第二节    债台为何高筑：欧美的教训</h4><p>金融风险的核心是银行，历次金融危机几乎都伴随着银行危机。原因有四：</p>
<ol>
<li>银行规模大、杠杆高。美国银行业用5块钱的本钱做着100块的生意，理论上只要亏了5%，就蚀光了本。这么高的杠杆是重要的风险来源之一。</li>
<li>银行通常大量借入短期存款却放出长期贷款，负债与资产的期限不匹配会带来流动性风险。</li>
<li>银行贷款大多与房地产有关，常常与土地和房产价值一起涨落，放大经济波动。地价上涨时，银行利润上升，资本充足率上升，更愿意借贷；经济衰退时，银行往往信贷收紧，即很少雪中送炭，却尝尝晴天送伞。</li>
<li>银行的风险会传导到其它金融部门。银行与其它金融部门的交易通常是资金和资源在金融体系内空转，实体经济的蛋糕却没有做大。</li>
</ol>
<p>布雷顿森林体系解体之后，金融自由化浪潮兴起。国际资金流动性大大增加。但是如果没有大量资金涌入，借贷总量也难以增加。以美国为例，美国的可贷资金增加的原因有国际和国内两个原因。美元的”特里芬悖论“是国际不平衡的一个表现，美国的国内贫富差距也是可贷资金增加的一个原因：大部分银行并没有将闲钱导向实体产业，变成生产性投资，而是充当了富人借钱给穷人买房的中介。这种金融服务的扩张，降低了资金配置效率，加大了风险。</p>
<p>大量资金涌入，但是实体投资并没有增加，这是西方债务危机原因之一。</p>
<h4 id="第三节-中国的债务与风险"><a href="#第三节-中国的债务与风险" class="headerlink" title="第三节    中国的债务与风险"></a>第三节    中国的债务与风险</h4><p>我国的债务迅速上涨的势头始于2008年，当年美国的金融危机打击了我国的出口，国家迅速出台了相关政策，放宽了许多金融管制和地方的投融资限制。我国的债务大多为人民币结算的内债，外债均在国际安全线之内。</p>
<h4 id="第四节-化解债务风险"><a href="#第四节-化解债务风险" class="headerlink" title="第四节    化解债务风险"></a>第四节    化解债务风险</h4><p>任何国家的债务问题都可以分为两个部分：一是偿还已有债务；二是遏制新增债务。前者对个人来讲就是开源节流，即提高收入或压缩支出。对政府来说，增发货币能够缓解债务负担，而增发货币也有三种方式：</p>
<ul>
<li><p>一是增发货币来降低利率，低利率意味着低利息。增发货币可以维持温和的通胀，随着时间推移，债务变得“不值钱”，负担也就减轻了。这是08年经济危机前的普遍做法。</p>
</li>
<li><p>二是量化宽松，即央行增发货币来买入各类资产，将货币注入经济，可以稳住资产的价格，为经济注入流动性。从记账角度看，央行增发货币算央行负债，所以“量化宽松”不过是把其他部门的负债转移到央行的身上。不过这种方式的缺点是难以将增发的货币转移到穷人身上，利好的是资产的所有者。这是08年经济危机后的普遍做法。</p>
</li>
<li><p>三是将债务货币化，即“赤字货币化”。政府加大财政支出去刺激经济，由财政部发债融资，央行直接印钱买过来，是一种比较激进的做法，在近年引起了激烈的讨论。“赤字货币化”的核心是用无利率的货币代替有利率的债务，但是历史上大搞“赤字货币化”的政府往往没有好结果。</p>
</li>
</ul>
<h3 id="第七章-国内国际失衡"><a href="#第七章-国内国际失衡" class="headerlink" title="第七章    国内国际失衡"></a>第七章    国内国际失衡</h3><p>我国加入WTO后，给全球的体系带来了巨大冲击，这十几年间，制造业增加值占比不断攀升，高技术产品占出口比例也在上升，到2019年达到了3成，约占全球出口的高技术产品的1/4。巨大的成功背后也隐含着问题：内部经济结构失衡以及国外需求不稳定和贸易冲突。</p>
<h4 id="第一节-低消费与产能过剩"><a href="#第一节-低消费与产能过剩" class="headerlink" title="第一节    低消费与产能过剩"></a>第一节    低消费与产能过剩</h4><p>我国经济结构失衡最突出的特征是消费不足，2018年居民消费占GDP占比只有44%，而美国达到近70%。而且80年代以来消费占比总体上一直降低，造成这个结果的原因有两个：储蓄率上升和居民可支配收入占GDP的比重降低。</p>
<p>我国居民的储蓄率奇高，上世纪90年代就达到了25%-30%，而同期美国仅有7%，日本有12%-13%。高储蓄率原因有三个：计划生育、政府民生支出不足和房价上涨。</p>
<p>居民收入份额降低的主要原因是工业化进程重资本而轻劳动，经济蛋糕被资本分去了大多数，属于劳动收入的那一份越来越少。这种重资本的发展方式在工业化初期有明显作用，但是随着工业化的推进，这种方式就不太合适了。十九大以来，国家推出了诸多政策来提高居民的可支配收入。</p>
<p>我国投资与消费之间也存在失衡，我国消费占比低，高投资率也无法消所有产出，多余的产出必须出口。由于我国体量巨大，对国际贸易的冲击巨大，这也引出了下一个问题：贸易冲突。</p>
<h4 id="第二节-中美贸易冲突"><a href="#第二节-中美贸易冲突" class="headerlink" title="第二节    中美贸易冲突"></a>第二节    中美贸易冲突</h4><p>我国常年对美国贸易顺差，即出口大于进口。在美国的贸易逆差中，中国的占比不断提升，从21世纪初的1/4提升到近几年的5-6成，虽然美国和多国都有贸易冲突，但一直将中国视为主要对手。</p>
<p>美国将制造业流失和制造业就业占工作年龄人数比重下降归因于中国，但证据表明这并站不住脚。在中国加入WTO之前制造业就业占工作年龄人数比重就一直在下降，中国加入后也并没有明显的加快趋势。同时人数降低的同时，制造业增加值占GDP的比重并没有降低，这是技术进步和生产率提高的表现。这种“归因”会造成政治上“贸易保护”的倾向，在遭受贸易冲击的地区尤其如此。</p>
<p>中国在制造业崛起对美国的技术产生了冲击和挑战。我国制造业增加值在2010年超过美国，在2019年新增国际专利数量超过美国。</p>
<h4 id="第三节-再平衡与国内大循环"><a href="#第三节-再平衡与国内大循环" class="headerlink" title="第三节    再平衡与国内大循环"></a>第三节    再平衡与国内大循环</h4><p>“加快构建以国内大循环为主体、国内国际双循环相互促进的新发展格局”是我国在2020年提出的发展战略上的转型，这一转型的关键是提高居民收入，要达成这一目的，关键是改变地方政府的在经济中扮演的角色，遏制其投资冲动，加大民生支出。</p>
]]></content>
      <categories>
        <category>读书笔记</category>
      </categories>
      <tags>
        <tag>政府</tag>
        <tag>经济</tag>
        <tag>政治经济学</tag>
      </tags>
  </entry>
  <entry>
    <title>关于许嵩的杂谈</title>
    <url>/%E6%9D%82%E8%B0%88/%E5%85%B3%E4%BA%8E%E8%AE%B8%E5%B5%A9%E7%9A%84%E6%9D%82%E8%B0%88/</url>
    <content><![CDATA[<p> 今天看有关许嵩歌曲打分的视频下看到一个评论。</p>
<span id="more"></span>

<img src="1.jpg" alt="1" style="zoom:67%;" />

<p>​        看到这个评论，我的第一反应就是这是个新粉。我也好奇我为什么会这样想。看到这些歌名的时候，我发现我对这些歌不是那么熟悉，这五首里面我听的最多其实是《乌鸦》，于是我去搜了一下这些歌的发行时间，发现其中最早的是2016年的《摄影艺术》。这五首歌的发行时间分别是21年，16年，18年，21年，22年。然后又去搜了下耳熟能详的一些歌曲，比如素颜10年，幻听12年，灰色头像10年，拆东墙11年，庐州月09年。于是我就明白了，我很喜欢许嵩的一些老歌，但这并不是说我不喜欢他的新歌，只是因为我没有主动的去关注许嵩新发布的一些歌曲。倘若在其他的地方你问我《留香》是谁的歌，我还真答不上来。</p>
<p>​        这让我想起来为什么会喜欢许嵩了。小时候家里只有一台电脑，当时我上小学，哥哥上初中高中。许嵩和梁静茹是他最喜欢的两个歌手，每次玩游戏红色警戒、魔兽争霸3、3D坦克时，都会放他俩的歌曲，于是在这种熏陶之下，我不出意外的成为了许嵩的粉丝。当然，梁静茹的歌也并没有少听，但是印象深刻的并没有很多，只记得《勇气》，《大手牵小手》，《爱你不是两三天》，《可惜不是你》这些。但是我并不知道我哥更喜欢这两人中的哪个，因为印象里听许嵩的歌多一点，但是他手机壁纸却是梁静茹。</p>
<p>​        为什么后来一直喜欢听许嵩的歌，但是听梁静茹的却少了呢，这缘于我的一个小学同学，叫他小宋吧。他是我的同桌，也喜欢许嵩的歌，但是整天却一口一个“许高”的叫着，为了纠正他的发音，当时真是费了好大的功夫。小学在规定的上学时间之前校门一直会关闭着，这时候来的早的同学们就拥挤在校门口玩耍，聊天，唱歌。几个要好的同学会一起齐唱某些歌，我和小宋除了唱许嵩的歌之外，印象比较深刻的还有张杰的《天下》、《剑心》，徐良汪苏泷的《后会无期》。还记得当时我为了第二天能够唱出来《庐州月》，前一天晚上直接听了30多遍，现在想来都是满满的回忆。</p>
<p>​        再后来上了初中和高中，就没再遇到过一个同样喜欢许嵩的而且关系比较好的朋友了，不过对许嵩的喜欢已经印在心里了，熟悉我的朋友都知道我比较喜欢许嵩。</p>
<p>​        回到这个评论，我发觉自己确实有点困在过去的许嵩里了，困在那个哥哥和小宋带我一起听歌的日子里，所以我决定多去听听他的新歌吧。</p>
]]></content>
      <categories>
        <category>杂谈</category>
      </categories>
      <tags>
        <tag>许嵩</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Arduino的智能物流小车</title>
    <url>/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/</url>
    <content><![CDATA[<p><em>工程实践项目：基于Arduino板的智能物流小车</em></p>
<p>我的第一篇博客，就拿工程实践水一下了。</p>
<span id="more"></span>

<h2 id="场地示意图"><a href="#场地示意图" class="headerlink" title="场地示意图"></a>场地示意图</h2><p><img src="/SJTU/%E5%9F%BA%E4%BA%8EArduino%E7%9A%84%E6%99%BA%E8%83%BD%E7%89%A9%E6%B5%81%E5%B0%8F%E8%BD%A6/img1.jpg"></p>
<h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><p>​        从出发区到达原料区，依次搬运三个物块到加工区，最后回到返回区。</p>
<p>​        虽然听着挺简单，但实际操作过程中遇到了太多的问题，比如由于安装不精确导致四个轮子不是那么完美，在写程序时直接让四个轮子速度相等并不能使小车走直线，而且四个轮子启动顺序也会对小车的方向产生微妙的影响。然后就是如何让小车平移，也需要精确调节四个轮子的速度。</p>
<p>​        接下来吐槽几句。令人蛋疼的是，学校提供的锂电池并不是恒压电池，而且程序是通过控制电压的高低来控制电机速度的，这就导致，==写的程序各个参数只能对标很小一段范围的电压==，在调试过程中会经常出现电池电压越用越低，参数不停的调的情况，充电后发现原来的程序又用不了了。唉~（这是一段很长的叹气）此外，锂电池电压充满电时大概是12.3V，这个电压对我们所用的Arduino UNO板子来说有点过高，很容易导致板子烧坏。（这也是我们用了五六块板子的部分原因，哈哈哈）也就是说，充满电的电池还不能用，得悠着点充电（笑哭）。</p>
<h2 id="Arduino程序"><a href="#Arduino程序" class="headerlink" title="Arduino程序"></a>Arduino程序</h2><p>==注：这段程序只是我个人记录用，留个纪念罢了，不要拿来直接用，会gg的（虽然不太可能有人看到）。==</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Wire.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;MotorController4WD.h&quot;</span></span></span><br><span class="line"><span class="comment">//#include &quot;QGPMaker_IICSensorbar.h&quot;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;QGPMaker_MotorShield.h&quot;</span></span></span><br><span class="line"><span class="function">MotorController4WD <span class="title">motorController</span><span class="params">(<span class="number">1</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//const byte IIC_ADDRESS = 0x3F; </span></span><br><span class="line"><span class="comment">//SensorBar io;</span></span><br><span class="line"><span class="comment">//电机</span></span><br><span class="line">QGPMaker_MotorShield AFMS = <span class="built_in">QGPMaker_MotorShield</span>(); </span><br><span class="line">QGPMaker_DCMotor *myMotor1 = AFMS.<span class="built_in">getMotor</span>(<span class="number">1</span>);</span><br><span class="line">QGPMaker_DCMotor *myMotor2 = AFMS.<span class="built_in">getMotor</span>(<span class="number">2</span>);</span><br><span class="line">QGPMaker_DCMotor *myMotor3 = AFMS.<span class="built_in">getMotor</span>(<span class="number">3</span>);</span><br><span class="line">QGPMaker_DCMotor *myMotor4 = AFMS.<span class="built_in">getMotor</span>(<span class="number">4</span>);</span><br><span class="line"><span class="comment">//舵机</span></span><br><span class="line">QGPMaker_Servo *myServo0 = AFMS.<span class="built_in">getServo</span>(<span class="number">0</span>);</span><br><span class="line">QGPMaker_Servo *myServo2 = AFMS.<span class="built_in">getServo</span>(<span class="number">2</span>);</span><br><span class="line">QGPMaker_Servo *myServo4 = AFMS.<span class="built_in">getServo</span>(<span class="number">4</span>);</span><br><span class="line">QGPMaker_Servo *myServo6 = AFMS.<span class="built_in">getServo</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//int sensor[5] = &#123;0, 0, 0, 0, 0&#125;;   //没用到巡线传感器</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> initial_motor_speed = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zhua</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fang</span><span class="params">()</span></span>; </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">9600</span>); <span class="comment">//串口波特率115200（PC端使用）</span></span><br><span class="line">  </span><br><span class="line">  AFMS.<span class="built_in">begin</span>(); </span><br><span class="line">  motorController.<span class="built_in">begin</span>();</span><br><span class="line">  </span><br><span class="line"><span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">100</span>;i&gt;<span class="number">60</span>;i--)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">40</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-20</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5300</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">//机械臂伸直</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, <span class="number">25</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">4</span>, <span class="number">88</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line"><span class="comment">//夹子张开</span></span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">110</span>;i&gt;<span class="number">60</span>;i--)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">40</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="comment">//第一个来回</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1160</span>);</span><br><span class="line">  <span class="comment">//抓</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">zhua</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2370</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">fang</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-6</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-6</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">4000</span>);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">20</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">400</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//第二个来回  </span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-9</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-9</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">810</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">zhua</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-8</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-8</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2370</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">fang</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">4000</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">20</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">400</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//第三个来回</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-11</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">zhua</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);  </span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-2</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2370</span>);</span><br><span class="line"></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">fang</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//回到返回区</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-20</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-10</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed+<span class="number">10</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">6000</span>);</span><br><span class="line">       </span><br><span class="line">  myMotor1-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">run</span>(BACKWARD);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">run</span>(FORWARD);</span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-3</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(initial_motor_speed<span class="number">-7</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2000</span>);</span><br><span class="line"><span class="comment">//停下</span></span><br><span class="line">  myMotor1-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor3-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor2-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  myMotor4-&gt;<span class="built_in">setSpeed</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);    </span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">zhua</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">20</span>;i&lt;<span class="number">40</span>;i+=<span class="number">2</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">40</span>,j=<span class="number">25</span>;i&lt;<span class="number">145</span>;i+=<span class="number">4</span>,j+=<span class="number">5</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, j);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//爪子夹紧</span></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">60</span>;i&lt;<span class="number">110</span>;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    <span class="comment">//收回</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">145</span>,j=<span class="number">155</span>;i&gt;<span class="number">40</span>;i-=<span class="number">4</span>,j-=<span class="number">5</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, j);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">40</span>;i&gt;<span class="number">20</span>;i-=<span class="number">2</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fang</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">25</span>;i&lt;<span class="number">150</span>;i++)&#123;</span><br><span class="line">motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, i);</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">88</span>;i&gt;<span class="number">65</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line">  motorController.<span class="built_in">writeServo</span>(<span class="number">4</span>, i);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">15</span>);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">300</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">20</span>;i&lt;<span class="number">145</span>;i++)&#123;</span><br><span class="line">motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, <span class="number">145</span>);</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  </span><br><span class="line"><span class="comment">//松开爪子+</span></span><br><span class="line"><span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">110</span>;i&gt;<span class="number">60</span>;i--)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">6</span>, i);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    <span class="comment">//收回</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">145</span>,j=<span class="number">145</span>;i&gt;<span class="number">40</span>;i-=<span class="number">4</span>,j-=<span class="number">5</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">2</span>, j);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">40</span>;i&gt;<span class="number">20</span>;i-=<span class="number">2</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    motorController.<span class="built_in">writeServo</span>(<span class="number">0</span>, i);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="后话"><a href="#后话" class="headerlink" title="后话"></a>后话</h2><p>这次工程实践比赛时也出现了板子烧坏的情况，端口消失，没能上传改过参数的代码，结果就直接寄了。虽然感觉有种这几天夜都白熬的感觉，不过，也学到了不少。（比如，<del>arduino板是非常脆弱的？</del>应该是我们操作不太行，以后就知道怎么呵护这块板子了hhh）</p>
]]></content>
      <categories>
        <category>SJTU</category>
      </categories>
      <tags>
        <tag>Arduino</tag>
        <tag>物流小车</tag>
      </tags>
  </entry>
  <entry>
    <title>夏日口袋赛博圣地巡礼</title>
    <url>/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/</url>
    <content><![CDATA[<p> 这两天推夏日口袋，B站就给我推送圣地巡礼，让我好是羡慕。但是咱又去不了，突发奇想，几年前我记得是在哪个软件上看到有街景地图的，于是就想能不能来一场赛博圣地巡礼。</p>
<span id="more"></span>

<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>先是试了试缺德地图，结果并不能看到国外的街景，甚至国外的地图基本都看不到，只有一片片的白。</p>
<img src="image-20230815210822318.png" alt="image-20230815210822318" style="zoom:50%;" />

<p>接着就想到了谷歌地图，毕竟这方面谷歌还是很厉害的。谷歌的谷歌地球简直完美契合了我的要求，可以查看全球街景，只要有个谷歌账号就能使用。</p>
<p>鸟白岛在现实中并不是一个岛屿，而是在直岛、男木岛和女木岛三个岛屿取景的，三个岛位置临近，在日本四国的北部的香泉县，其中直岛最大，男木岛最小。</p>
<img src="image-20230815211851985.png" alt="image-20230815211851985" style="zoom: 50%;" />

<p>找到地方后，接下来正式开始赛博——圣地巡礼！</p>
<p>感谢以下视频和帖子，帮了我不少忙</p>
<ul>
<li><p><a href="https://www.bilibili.com/video/BV1Sk4y177SE/?spm_id_from=333.788&vd_source=f6fe5f5f48937a5b52419e6dcaf2f1d9">唯有那份炫目，未曾忘却bilibili</a></p>
</li>
<li><p><a href="https://www.bilibili.com/read/cv3253293/">从零开始的鸟白岛巡礼指南 - 哔哩哔哩 (bilibili.com)</a></p>
</li>
<li><p><a href="https://tieba.baidu.com/p/5914561222">【图片】summer pockets圣地巡礼攻略（持续更新）【galgame吧】_百度贴吧 (baidu.com)</a></p>
</li>
<li><p><a href="https://tieba.baidu.com/p/7512486383">【图片】鸟白岛圣地巡礼8月6日～8月15日【key吧】_百度贴吧 (baidu.com)</a></p>
</li>
</ul>
<p>感谢这位日本网友的谷歌地图标记，帮大忙了</p>
<p><a href="https://www.google.com/maps/d/viewer?mid=1HwI6d1p8N7RNKB4dG0_edBzaJmthMgRs&amp;hl=ja&amp;ll=34.460939999999994,133.99790259999997&amp;z=13">https://www.google.com/maps/d/viewer?mid=1HwI6d1p8N7RNKB4dG0_edBzaJmthMgRs&amp;hl=ja&amp;ll=34.460939999999994%2C133.99790259999997&amp;z=13</a> </p>
<p>这是总结的三个岛的取景，不过可能有遗漏</p>
<table>
<thead>
<tr>
<th align="center">直岛</th>
<th align="center">游戏</th>
<th>现实</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">加藤家</td>
<td>石井商店本家</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">食堂</td>
<td>石井商店</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">加藤家附近街景</td>
<td>石井商店稍往东</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">白羽钓鱼处（游戏中小岛外部）</td>
<td>岛东部</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">沙滩浴场</td>
<td>岛南部</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">蓄水池</td>
<td>岛中部</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">鸣濑神社</td>
<td>无街景</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">鸟白岛港口</td>
<td>Marine station “Naoshima”</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">粗点心屋</td>
<td>港口附近</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">海之家</td>
<td>Tsutsuji-so</td>
</tr>
<tr>
<td align="center"><strong>男木岛</strong></td>
<td align="center"></td>
<td></td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">初见苍的小路</td>
<td>岛中西部</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">鸟白岛全景</td>
<td>无街景</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">村公所</td>
<td>渔协</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">游泳池</td>
<td>高松市立男木中学校旁</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">遇见鸥的海岸</td>
<td>男木渔港旁的海岸</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">白羽提鞋视角</td>
<td>渔协旁，无街景</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">紬的灯塔</td>
<td>岛北部</td>
</tr>
<tr>
<td align="center"><strong>女木岛</strong></td>
<td align="center"></td>
<td></td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">鸥的洞穴</td>
<td>岛中部</td>
</tr>
</tbody></table>
<h3 id="正片开始"><a href="#正片开始" class="headerlink" title="正片开始"></a><strong>正片开始</strong></h3><p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164950.jpg" alt="IMG_20230819_164950"></p>
<p>加藤家，现实中加藤家和食堂都在石井商店</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164905.jpg" alt="IMG_20230819_164905"></p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164840.jpg" alt="IMG_20230819_164840"></p>
<p>两条街道</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164509.jpg" alt="IMG_20230819_164509"></p>
<p>白羽钓鱼处</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164206.jpg" alt="IMG_20230819_164206"></p>
<p>沙滩浴场，可以看到那一排突出的石砖，可惜谷歌地图街景没有游戏中的视角</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164441.jpg" alt="IMG_20230819_164441"></p>
<p>蓄水池</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_165056.jpg" alt="IMG_20230819_165056"></p>
<p>鸟白岛港口，也没有比较好的视角</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_165023.jpg" alt="IMG_20230819_165023"></p>
<p>粗点心屋</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_165116.jpg" alt="IMG_20230819_165116"></p>
<p>海之家，静久的鸟居也在海之家附近</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164754.jpg" alt="IMG_20230819_164754"></p>
<p>遇见苍的小路，拍摄的时候路两旁的草不是那么旺盛呢</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164653.jpg" alt="IMG_20230819_164653"></p>
<p>鸟白岛役场（村公所），可惜没有正面的角度</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_165133.jpg" alt="IMG_20230819_165133"></p>
<p>游泳池，并没有里面的视角，不过看别的帖子里还原度很高</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164818.jpg" alt="IMG_20230819_164818"></p>
<p>遇见鸥的海岸</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164342.jpg" alt="IMG_20230819_164342"><br><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_165310.jpg" alt="IMG_20230819_165310"></p>
<p>紬的灯塔</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_163935.jpg" alt="IMG_20230819_163935"><br><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/IMG_20230819_164124.jpg" alt="IMG_20230819_164124"></p>
<p>鸥的洞穴</p>
<p>最后附上紬灯塔的全景和一张港口船上的照片：</p>
<p><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/%E7%81%AF%E5%A1%943.png" alt="灯塔3"><br><img src="/%E6%9D%82%E8%B0%88/%E5%A4%8F%E6%97%A5%E5%8F%A3%E8%A2%8B%E8%B5%9B%E5%8D%9A%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/%E8%88%B9%E4%B8%8A.png" alt="船上"></p>
<h3 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a><strong>写在最后</strong></h3><p>在夏天推夏日口袋，别有一番韵味。游戏本身的剧情就有不少让我感受颇深的地方，与现实的交错（圣地巡礼）更是给了我不少惊喜。我也是在看了圣地巡礼的视频后突发奇想才做了这么一个赛博圣地巡礼，简单搜了一下还没发现有别人做过，也算一次不错的体验了。</p>
]]></content>
      <categories>
        <category>杂谈</category>
      </categories>
      <tags>
        <tag>galgame</tag>
        <tag>夏日口袋</tag>
        <tag>summerpockets</tag>
      </tags>
  </entry>
  <entry>
    <title>大学生心理健康开卷参考资料</title>
    <url>/SJTU/%E5%A4%A7%E5%AD%A6%E7%94%9F%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E5%BC%80%E5%8D%B7%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/</url>
    <content><![CDATA[<p>SJTU心理健康开卷考试  参考资料</p>
<span id="more"></span>

<p><strong>心理咨询</strong>——定义——罗杰斯&amp;帕特森</p>
<p><strong>保密原则</strong> <strong>保密例外</strong>——（对社会和他人有严重危害 未成年人侵犯与虐待 违反法律法规）</p>
<p><strong>什么情况下需要心理咨询</strong>：状态异常，异常状态持续两周以上，且影响到自己的学习生活，对社会有很大影响时（情感与性，自我探索，学业压力，适应性问题，发展性……，障碍性……）</p>
<p><strong>心理健康的标准（马斯洛和米特尔曼）</strong></p>
<p>是否有充分的安全感</p>
<p>是否对自己有较充分地了解，并能恰当地评价自己的行为</p>
<p>自己的生活理想和目标是否切合实际</p>
<p>能否与周围环境事物保持良好的接触</p>
<p>能否保持自我人格的完整与和谐</p>
<p>能否具备从经验中学习的能力</p>
<p>能否保持适当和良好的人际关系</p>
<p>能否适度地表达和控制自己的情绪</p>
<p>能否在集体允许的前提下，有限地发挥自己的个性</p>
<p>能否在社会规范的范围内，适当地满足个人的基本要求</p>
<p><strong>四大流派</strong></p>
<p><strong>精神分析流——</strong>童年，潜意识（冰山理论），人格理论（本我自我超我），弗洛伊德</p>
<p><strong>行为主义——</strong>行为训练，系统脱敏法，强化</p>
<p><strong>人本主义—</strong>—人本善，同感，真诚，尊重，爱自己，神秘主义与潜能开发，成长与意义</p>
<p><strong>超个人心理学——</strong>超意识，濒死体验，冥想，穿越和潜能解放</p>
<p><strong>自杀风险——</strong>言语线索，行为线索</p>
<h2 id="2、MBTI要素（Myers-Briggs-Type-Indicator提出者为迈耶斯和布里奇斯）"><a href="#2、MBTI要素（Myers-Briggs-Type-Indicator提出者为迈耶斯和布里奇斯）" class="headerlink" title="2、MBTI要素（Myers Briggs Type Indicator提出者为迈耶斯和布里奇斯）"></a><strong>2</strong>、<strong>MBTI要素（Myers Briggs Type Indicator提出者为迈耶斯和布里奇斯）</strong></h2><table>
<thead>
<tr>
<th>注意力方向</th>
<th>外向</th>
<th>E(Extrovert)</th>
<th>内向</th>
<th>I(Introvert)</th>
</tr>
</thead>
<tbody><tr>
<td>认知方式（如何搜集信息）</td>
<td>直觉</td>
<td>N(Inituition)</td>
<td>知觉</td>
<td>S(Sensing)</td>
</tr>
<tr>
<td>判断方式（如何做决定）</td>
<td>理性</td>
<td>T(Thinking)</td>
<td>感性</td>
<td>F(Feeling)</td>
</tr>
<tr>
<td>生活方式（如何应对不确定性）</td>
<td>判断</td>
<td>J(Judgement)</td>
<td>感觉</td>
<td>P(Perceiving)</td>
</tr>
</tbody></table>
<h3 id="2-1-内向与外向"><a href="#2-1-内向与外向" class="headerlink" title="2.1 内向与外向"></a><strong>2.1</strong> <strong>内向与外向</strong></h3><p>内向者聚焦于内心世界，从思想、记忆和经验中汲取能量</p>
<p>外向者聚焦于外部，从与人相处中汲取能量</p>
<p>内向者喜欢独立思考，书面沟通，不公开自己的批判性想法</p>
<p>外向者与人交流，越说越明白</p>
<h3 id="2-2-直觉与知觉"><a href="#2-2-直觉与知觉" class="headerlink" title="2.2 直觉与知觉"></a><strong>2.2</strong> <strong>直觉与知觉</strong></h3><p>直觉者关注全局（森林）</p>
<p>知觉者关注细节（树木）</p>
<h3 id="2-3-思考与感觉"><a href="#2-3-思考与感觉" class="headerlink" title="2.3 思考与感觉"></a><strong>2.3</strong> <strong>思考与感觉</strong></h3><p>思考者（对事）：理性分析客观事实，考虑所有与具体情况相关的已知、可证明因素，富有逻辑地决定如何行动；</p>
<p>感觉者（对人）：关注人与人之间的和谐，富有同理心，善于人际沟通和人际关系的建立</p>
<h3 id="2-4-判断与感觉"><a href="#2-4-判断与感觉" class="headerlink" title="2.4 判断与感觉"></a><strong>2.4</strong> <strong>判断与感觉</strong></h3><p>判断者：喜欢井然有序的生活与工作</p>
<p>感觉者：喜欢灵活、随性</p>
<h2 id="3、人格特质理论——大五人格"><a href="#3、人格特质理论——大五人格" class="headerlink" title="3、人格特质理论——大五人格"></a><strong>3、人格特质理论——大五人格</strong></h2><p>理论提出者为麦克雷（RR.Mccrae）和科斯塔（PT.Costa）</p>
<p><strong>开放性</strong>（openness）：具有想象、审美、情感丰富、求异、创造、智能等特质</p>
<p><strong>责任心</strong>（conscientiousness）：显示胜任、弓正、条理、尽职、成就、自律、谨慎、克制等特点</p>
<p><strong>外倾性</strong>（extroversion）：表现出热情、社交、果断、活跃、冒险、乐观等特质</p>
<p><strong>宜人性</strong>（agreeableness）：具有信任、利他、直率、依从、谦虚、移情等特质</p>
<p><strong>神经质性</strong>（neuroticism）：难以平衡焦虑、敌对、压抑、自我意识、冲动、脆弱等情绪的特质，即不具有保持情绪稳定的能力</p>
<h2 id="4、关系的重要性（马斯洛需要层次论的视角）"><a href="#4、关系的重要性（马斯洛需要层次论的视角）" class="headerlink" title="4、关系的重要性（马斯洛需要层次论的视角）"></a><strong>4、关系的重要性（马斯洛需要层次论的视角）</strong></h2><p>自我实现的需求（如，发挥潜能、实现理想）</p>
<p>尊重的需求（如，受到尊重与肯定）</p>
<p>社会需求（如，爱情、友谊、归属感）</p>
<p>安全需求（如对保护、秩序、稳定的需要）</p>
<p>生理需求（如身体对食物、温暖、性的需要）</p>
<h2 id="5、善用人际交往中的心理效应"><a href="#5、善用人际交往中的心理效应" class="headerlink" title="5、善用人际交往中的心理效应"></a><strong>5、善用人际交往中的心理效应</strong></h2><h3 id="5-1-晕轮效应"><a href="#5-1-晕轮效应" class="headerlink" title="5.1  晕轮效应"></a><strong>5.1</strong>  <strong>晕轮效应</strong></h3><p>晕轮效应，指人们看问题时，像日晕一样，由一个中心点逐步向外扩散成越来越大的圆圈，是一种在突出特征这一晕轮或光环的影响下而产生的以点带面、以偏概全的社会心理效应</p>
<h3 id="5-2-投射效应"><a href="#5-2-投射效应" class="headerlink" title="5.2 投射效应"></a><strong>5.2</strong> <strong>投射效应</strong></h3><p>投射效应是将自己的特点归因到他人身上的倾向，即以己度人，认为自己具有某种特性，他人也一定会有与自己相同的特性，把自己的感情、意志、特性投射到他人身上并强加于人</p>
<h3 id="5-3-刻板效应"><a href="#5-3-刻板效应" class="headerlink" title="5.3 刻板效应"></a><strong>5.3</strong> <strong>刻板效应</strong></h3><p>人们头脑中关于某一类人的固定印象的心理现象</p>
<h3 id="5-4-首因效应"><a href="#5-4-首因效应" class="headerlink" title="5.4 首因效应"></a><strong>5.4</strong> <strong>首因效应</strong></h3><p>交往双方形成的第一次印象对今后交往关系的影响，也即是“先入为主”带来的效果。</p>
<h3 id="5-5、登门槛效应"><a href="#5-5、登门槛效应" class="headerlink" title="5.5、登门槛效应"></a><strong>5.5、登门槛效应</strong></h3><p>又称得寸进尺效应，是指一个人一旦接受了他人的一个微不足道的要求，为了避免认知上的不协调，或想给他人以前后一致的印象，就有可能接受更大的要求。</p>
<h2 id="6、罗伯特森·斯滕伯格的爱情三角理论"><a href="#6、罗伯特森·斯滕伯格的爱情三角理论" class="headerlink" title="6、罗伯特森·斯滕伯格的爱情三角理论"></a><strong>6、罗伯特森·斯滕伯格的爱情三角理论</strong></h2><p><img src="/SJTU/%E5%A4%A7%E5%AD%A6%E7%94%9F%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E5%BC%80%E5%8D%B7%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/1.png"></p>
<h3 id="6-1-亲密"><a href="#6-1-亲密" class="headerlink" title="6.1 亲密"></a><strong>6.1</strong> <strong>亲密</strong></h3><p>亲密包括热情、理解、沟通、支持和分享等爱情关系中的常见特征</p>
<p>亲密主要是情感性的</p>
<h3 id="6-2-激情"><a href="#6-2-激情" class="headerlink" title="6.2 激情"></a><strong>6.2</strong> <strong>激情</strong></h3><p>主要特征为性的唤醒和欲望，激情场常以性渴望的形式出现，但任何能使伴侣感到满足的情感需要都可以归为此类</p>
<p>激情主要是动机或驱力</p>
<h3 id="6-3-承诺"><a href="#6-3-承诺" class="headerlink" title="6.3 承诺"></a><strong>6.3</strong> <strong>承诺</strong></h3><p>承诺指投身于爱情和努力维护爱情的决心</p>
<p>承诺本质是认知性的</p>
<h2 id="7、依恋类型与亲密关系——陌生人情景测试"><a href="#7、依恋类型与亲密关系——陌生人情景测试" class="headerlink" title="7、依恋类型与亲密关系——陌生人情景测试"></a><strong>7、依恋类型与亲密关系——陌生人情景测试</strong></h2><p>情侣关系与早期亲子关系类似</p>
<h3 id="7-1-安全型依恋风格"><a href="#7-1-安全型依恋风格" class="headerlink" title="7.1 安全型依恋风格"></a><strong>7.1</strong> <strong>安全型依恋风格</strong></h3><p>容易接近他人，在亲密关系里感到舒适放松</p>
<p>依靠他人很自在，很少担心被抛弃，相信他人的善良</p>
<p>相信自己的价值，值得爱</p>
<h3 id="7-2-回避型依恋风格"><a href="#7-2-回避型依恋风格" class="headerlink" title="7.2 回避型依恋风格"></a><strong>7.2</strong> <strong>回避型依恋风格</strong></h3><p>接近他人时不自在，难以信任依靠他人</p>
<p>他人接近时感到紧张和不舒服</p>
<p>避免和人亲密，害怕受伤害</p>
<h3 id="7-3-焦虑矛盾性依恋风格"><a href="#7-3-焦虑矛盾性依恋风格" class="headerlink" title="7.3 焦虑矛盾性依恋风格"></a><strong>7.3</strong> <strong>焦虑矛盾性依恋风格</strong></h3><p>感觉他人在疏远自己，至少没有像自己期望的那样</p>
<p>期待与他人关系亲密，但经常怀疑对方是否真心愿意和自己一起</p>
<p>怀疑自己的价值，感觉别人会拒绝自己</p>
<p>蜷缩在自己的世界，或者过度依赖亲密关系</p>
<h3 id="7-4-依恋类型的稳定性"><a href="#7-4-依恋类型的稳定性" class="headerlink" title="7.4 依恋类型的稳定性"></a><strong>7.4</strong> <strong>依恋类型的稳定性</strong></h3><p>随着个人生活的改变，人的依恋类型可以发生变化</p>
<h2 id="8、汉斯·赛利的压力模型——压力反应三阶段"><a href="#8、汉斯·赛利的压力模型——压力反应三阶段" class="headerlink" title="8、汉斯·赛利的压力模型——压力反应三阶段"></a><strong>8、汉斯·赛利的压力模型——压力反应三阶段</strong></h2><h3 id="8-1-警戒阶段（Alarm）"><a href="#8-1-警戒阶段（Alarm）" class="headerlink" title="8.1 警戒阶段（Alarm）"></a><strong>8.1</strong> <strong>警戒阶段（Alarm）</strong></h3><p>有机体无论什么时候遇到一个紧张刺激都会引起躯体内部的生理生化、体内环境平衡、内脏机能的变化，即生物有机体自身会动员起来进行适应性防御</p>
<h3 id="8-2-抵御阶段（Resistance）"><a href="#8-2-抵御阶段（Resistance）" class="headerlink" title="8.2 抵御阶段（Resistance）"></a><strong>8.2</strong> <strong>抵御阶段（Resistance）</strong></h3><p>有机体在肾上腺素分泌增加之后，就会出现心律、呼吸加快、血压增加、血糖含量增加等变化，以便充分动员替内的潜能应付环境变化刺激的威胁</p>
<h3 id="8-3-衰竭阶段（Exhaustion）"><a href="#8-3-衰竭阶段（Exhaustion）" class="headerlink" title="8.3 衰竭阶段（Exhaustion）"></a><strong>8.3</strong> <strong>衰竭阶段（Exhaustion）</strong></h3><p>紧张刺激所致的威胁继续存在或躯体仍然像存在着威胁那样进行反应，抵御就会持续下去，必须的适应能力可能耗尽，最后出现崩溃。这时机体会被其自身的防御力量所损害，导致疾病。</p>
<h2 id="9、压力的耶基斯·多德森曲线"><a href="#9、压力的耶基斯·多德森曲线" class="headerlink" title="9、压力的耶基斯·多德森曲线"></a><strong>9、压力的耶基斯·多德森曲线</strong></h2><p><img src="/SJTU/%E5%A4%A7%E5%AD%A6%E7%94%9F%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E5%BC%80%E5%8D%B7%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/%E5%8E%8B%E5%8A%9B%E6%9B%B2%E7%BA%BF.png"></p>
<p><strong>压力管理的要义</strong>   压力管理的要义不是消灭压力，而是驾驭压力</p>
<h2 id="10、SJTU心理咨询预约方式"><a href="#10、SJTU心理咨询预约方式" class="headerlink" title="10、SJTU心理咨询预约方式"></a><strong>10、SJTU心理咨询预约方式</strong></h2><p>网络预约  上海交通大学心擎网 <a href="http://www.xinqing.sjtu.edu.com/">www.xinqing.sjtu.edu.com</a></p>
<p>微信预约  “上海交通大学心理咨询中心”微信公众号</p>
<p>紧急上门求助</p>
<h2 id="11、心理咨询的概念"><a href="#11、心理咨询的概念" class="headerlink" title="11、心理咨询的概念"></a><strong>11、心理咨询的概念</strong></h2><p>心理咨询是“通过与个体持续的、直接的接触，向其提供心理援助并促进其行为、态度变化的过程”。                    ——Rogers</p>
<p>咨询是一种人际关系，在这种关系中咨询人员提供一定的心理气氛或条件，使对象发生变化，做出选择，解决自己的问题，并且形成一个有责任感，拥有独立个体，从而成为更好的人和更好的社会成员。                 ——Patterson</p>
<h2 id="12、罗杰斯提出的成功心理咨询要素"><a href="#12、罗杰斯提出的成功心理咨询要素" class="headerlink" title="12、罗杰斯提出的成功心理咨询要素"></a><strong>12、罗杰斯提出的成功心理咨询要素</strong></h2><h3 id="12-1-同感（empathy-共情or同理心）"><a href="#12-1-同感（empathy-共情or同理心）" class="headerlink" title="12.1 同感（empathy,共情or同理心）"></a><strong>12.1</strong> <strong>同感（empathy,共情or同理心）</strong></h3><p>指咨询师设身处地的从来访者的参照标准去体会其内心感受，领悟其思想、观念和情感，从而达到对来访者情况准确理解的一种态度和能力</p>
<p>同感可以帮助咨询师更深度地理解来访者，使来访者感到自己被理解被接纳，促进来访者自我表达和自我探索等</p>
<h3 id="12-2-真诚"><a href="#12-2-真诚" class="headerlink" title="12.2 真诚"></a><strong>12.2</strong> <strong>真诚</strong></h3><p>真诚指咨询师要以真实的自我面貌出现，不带任何自我防卫式的伪装，以开放、自由的面貌投入到心理咨询当中</p>
<p>真诚能让来访者产生信任感和安全感</p>
<h3 id="12-3-尊重"><a href="#12-3-尊重" class="headerlink" title="12.3 尊重"></a><strong>12.3</strong> <strong>尊重</strong></h3><p>尊重是指咨询师以平等、民主的方式来接纳、关注来访者（包括他们的现状、价值观以及人格特点和合理权益）的一种态度和能力</p>
<p>尊重可以为来访者创造一个安全、温暖的氛围，使其最大限度地表露自己。</p>
<p>尊重有助于来访者获得自我价值感，认识并发挥自身的潜能</p>
<h2 id="13-心理咨询的伦理"><a href="#13-心理咨询的伦理" class="headerlink" title="13 心理咨询的伦理"></a><strong>13</strong> <strong>心理咨询的伦理</strong></h2><h3 id="13-1-善行"><a href="#13-1-善行" class="headerlink" title="13.1 善行"></a><strong>13.1</strong> <strong>善行</strong></h3><p>心理咨询师工作的目的是使寻求专业服务者从其提供的专业服务中获益。心理咨询师应保障寻求专业服务者的权利，努力使其得到适当的服务并避免伤害</p>
<h3 id="13-2-责任"><a href="#13-2-责任" class="headerlink" title="13.2 责任"></a><strong>13.2</strong> <strong>责任</strong></h3><p>心理咨询师在工作中应保持其专业服务的最高水准，对自己的行为承担责任，认清自己专业的、伦理及法律的责任，维护专业信誉</p>
<h3 id="13-3-诚信"><a href="#13-3-诚信" class="headerlink" title="13.3 诚信"></a><strong>13.3</strong> <strong>诚信</strong></h3><p>心理咨询师在临床实践活动、研究和教学工作中，应努力保持其行为的诚实性和真实性</p>
<h3 id="13-4-公正"><a href="#13-4-公正" class="headerlink" title="13.4 公正"></a><strong>13.4</strong> <strong>公正</strong></h3><p>心理咨询师应公平、公正地对待自己的专业工作及其他人员。心理咨询师应采取谨慎的态度防止自己潜在的偏见、能力局限、技术的限制等导致的不适当行为</p>
<h3 id="13-5-尊重"><a href="#13-5-尊重" class="headerlink" title="13.5 尊重"></a><strong>13.5</strong> <strong>尊重</strong></h3><p>心理咨询师应尊重每一个人，尊重个人的隐私权，保密性和自我决定的权利</p>
<h2 id="14、弗洛伊德理论简说"><a href="#14、弗洛伊德理论简说" class="headerlink" title="14、弗洛伊德理论简说"></a><strong>14、弗洛伊德理论简说</strong></h2><h3 id="14-1-弗洛伊德的人格学说"><a href="#14-1-弗洛伊德的人格学说" class="headerlink" title="14.1 弗洛伊德的人格学说"></a><strong>14.1</strong> <strong>弗洛伊德的人格学说</strong></h3><p><strong>本我</strong></p>
<p>本我是人格中最原始、最模糊和最不易把握的部分，是由一切与生俱来的冲动组成，依据快乐原则行事，寻求无条件的即刻满足</p>
<p>主要是性的力量</p>
<p><strong>自我</strong></p>
<p>自我是现实化了的本能，是在现实的反复教训之下从本我分化出来的部分</p>
<p>依据现实原则行事，所谓识时务者为俊杰</p>
<p><strong>超我</strong></p>
<p>超我是理想自我，是从自我发展起来的一部分，是道德化了的自我</p>
<h3 id="14-2-心理防御机制"><a href="#14-2-心理防御机制" class="headerlink" title="14.2 心理防御机制"></a><strong>14.2</strong> <strong>心理防御机制</strong></h3><p>自我同时照顾三个主人：外部世界、超我和本我，压力山大，产生焦虑</p>
<p>为了应对焦虑，产生防御机制</p>
<p>防御机制类型：</p>
<p>A、压抑</p>
<p>压抑为将社会伦理道德所不容的，意识上不能接受的冲动、欲望，在不知不觉中抑制在无意识水平，令人自己也不能意识到它们的存在</p>
<p>B、投射</p>
<p>把自己的愿望与动机归于他人，断言他人有此动机、愿望</p>
<p>C、否认</p>
<p>有意识或无意识地拒绝承认那些使人感到焦虑痛苦的事件，似乎其从未发生过</p>
<p>D、退行</p>
<p>当遇到挫折和应激时，心理活动退回至较早年龄阶段水平，以原始、幼稚额的方法应付当前情境</p>
<p>E、固着</p>
<p>心理尚未完全成熟，停滞在某一心理发展水平</p>
<p>F、升华</p>
<p>把为社会、超我所不能接受、不能容许的冲动的能量转化为建设性的活动能量</p>
<p>G、置换</p>
<p>因某事物而起的强烈情绪和冲动不能直接发泄到这个对象上去，就转移到另一对象上去了</p>
<p>H、抵消</p>
<p>以从事某种象征性的活动来抵消、抵制一个人的真实感情</p>
<p>I、反向形成</p>
<p>把无意识中不能被接受的欲望或冲动转化为意识之中的相反行为</p>
<h2 id="15、艾尔伯特埃利斯的合理情绪疗法（RET-Rational-Emotive-Behavior-Therapy）"><a href="#15、艾尔伯特埃利斯的合理情绪疗法（RET-Rational-Emotive-Behavior-Therapy）" class="headerlink" title="15、艾尔伯特埃利斯的合理情绪疗法（RET Rational Emotive Behavior Therapy）"></a><strong>15、艾尔伯特埃利斯的合理情绪疗法（RET Rational Emotive Behavior Therapy）</strong></h2><p>合理情绪疗法、理性情绪疗法</p>
<p>人的情绪困扰由于非理性的观念所致</p>
<p>咨询方向纠正非理性观念</p>
<p><strong>埃利斯的ABCDE情绪管理理论</strong></p>
<p>A：Activating Events 诱发事件</p>
<p>B：Beliefs 个体对诱发事件的评价、解释、看法</p>
<p>C：Consequences  个体情绪和行为的结果</p>
<p>D：Disputing 指同不合理的信念辩论</p>
<p>E：Effects 指通过疏通产生积极地情绪和行为</p>
<p>不是由A导致C，而是由B导致C</p>
<p><strong>不合理信念的特征</strong></p>
<h3 id="15-1-绝对化要求"><a href="#15-1-绝对化要求" class="headerlink" title="15.1 绝对化要求"></a><strong>15.1</strong> <strong>绝对化要求</strong></h3><p>对事物的绝对化要求，是指人们以自己的意愿为出发点对某一事物怀有认为其必定发生或不会发生的信念。这种信念通常是以“必须”和“应该”这类字眼联系在一起的</p>
<h3 id="15-2-过分概括化"><a href="#15-2-过分概括化" class="headerlink" title="15.2 过分概括化"></a><strong>15.2</strong> <strong>过分概括化</strong></h3><p>过分概括化是一种以偏概全、以一概十的不合理思维方式</p>
<h3 id="15-3-糟糕至极"><a href="#15-3-糟糕至极" class="headerlink" title="15.3 糟糕至极"></a><strong>15.3</strong> <strong>糟糕至极</strong></h3><p>糟糕至极是一种认为如果一件不好的事情发生将是非常可怕，非常糟糕，是指一种灾难的想法</p>
<h2 id="16、抑郁症的特征"><a href="#16、抑郁症的特征" class="headerlink" title="16、抑郁症的特征"></a><strong>16、抑郁症的特征</strong></h2><p>抑郁症的典型症状是“三低”：情绪情感低落，思维迟缓，意志活动减少</p>
<p>一些患者还伴有思维内容障碍，如自责观念或妄想，甚至还有厌世轻生倾向</p>
<p>重度抑郁症发作期的自杀企图和自杀行为倾向突出</p>
<p>部分患者伴有躯体症状，如身体多器官不适，疲乏无力，食欲性欲下降，体重减轻，入睡困难或早醒</p>
<p>持续两周以上</p>
<h2 id="17、躁狂症的特征"><a href="#17、躁狂症的特征" class="headerlink" title="17、躁狂症的特征"></a><strong>17、躁狂症的特征</strong></h2><p>“三高”：情绪情感高涨、思维活动加速、活动增多</p>
<p>部分患者伴有思维内容障碍，如夸大观念，扩大妄想，过分夸大自己的才智、身份、地位、经济实力</p>
<p>部分患者伴有躯体症状：便秘、食欲增加、性欲亢进、睡眠减少、体力过分消耗、体重减轻、红光满面、神采奕奕</p>
<p><strong>抑郁躁狂症（双相情感障碍）的特征：</strong></p>
<p>有时抑郁，有时躁狂</p>
<p>青少年多发</p>
<h2 id="19、创伤后应激障碍（PTSD）的特征"><a href="#19、创伤后应激障碍（PTSD）的特征" class="headerlink" title="19、创伤后应激障碍（PTSD）的特征"></a><strong>19、创伤后应激障碍（PTSD）的特征</strong></h2><p>重大刺激性事件或创伤性事件发生数日或数月后，反复或持续发生闯入性的创伤性体验重现、噩梦，或因面临与刺激相似或有关的情境而感到痛苦不堪，伴有心悸、冷汗、面色发白等身体症状，错觉、幻觉、持续的警觉性增高，睡眠障碍，易激惹，难以集中注意，回避相关或类似情景或有关人，对创伤性经历的选择性遗忘，对未来失去信心，社会功能严重受损，严重者甚至可能有人格改变或人格解离</p>
<h2 id="20、强迫症"><a href="#20、强迫症" class="headerlink" title="20、强迫症"></a><strong>20、强迫症</strong></h2><p>强迫症（OCD）属于焦虑障碍的一种类型，是一组以强迫思维和强迫行为为主要临床表现的神经精神疾病，其特点为有意识的强迫和反强迫并存，一些毫无意义、甚至违背自己意愿的想法或冲动反反复复侵入患者的日常生活。患者虽体验到这些想法或冲动是来源于自身，极力抵抗，但始终无法控制，二者强烈的冲突使其感到巨大的焦虑和痛苦，影响学习工作、人际交往甚至生活起居</p>
<p>有研究显示普通人群中的强迫症的终生患病率为1%<del>2%，世界卫生组织（WHO）所做的全球疾病调查中发现，强迫症已成为15</del>44岁中青年人群中造成疾病负担重的20重疾病之一。延误治疗的情形比较多</p>
<h2 id="21、精神分裂症的特征"><a href="#21、精神分裂症的特征" class="headerlink" title="21、精神分裂症的特征"></a><strong>21、精神分裂症的特征</strong></h2><p>精神分裂症是一种精神活动与现实环境相脱离，认知过程、情感过程、意志过程与个性特征等各方面互不协调、彼此分裂的精神病</p>
<p>急性临床表现为思维障碍（联想散漫、言语破碎、思维中断）、情感障碍（情感淡漠、情感不协调）；幻觉（幻听、幻视等）；妄想（被害妄想、关系妄想、夸大妄想、疑病妄想、被控制感、嫉妒妄想、钟情妄想）等阳性症状为主</p>
<p>慢性临床表现则以缺乏动力、缺乏精力、缺乏兴趣、缺乏情感、缺乏礼仪、缺乏社交等精神功能衰退或缺失的阴性症状为主</p>
<h2 id="影响心理健康的因素——遗传，疾病，应激事件，原生家庭，社会文化"><a href="#影响心理健康的因素——遗传，疾病，应激事件，原生家庭，社会文化" class="headerlink" title="影响心理健康的因素——遗传，疾病，应激事件，原生家庭，社会文化"></a><strong>影响心理健康的因素——</strong>遗传，疾病，应激事件，原生家庭，社会文化</h2><p>由于人的心理健康是一个具有相对独立性质的极为复杂的动态过程，因而制约心理健康，造成心理偏差、心理障碍或心理疾病的因素也是极其复杂多样的。从各种制约因素的性质来说，主要有生物遗传因素、心理环境因素和社会环境因素。从各种制约因素的功能来说，可以分为本体因素与诱发因素两大类。</p>
<p>　　本体因素是一个人心理健康状况发生变化的内在原因，而诱发因素则是产生变化的外在原因。诱发因素通过本体因素而发生作用，它决定着人的心理健康状况变化的现实性。例如，紧张的学习生活，对于心理功能状况良好的学生来说，会激发更高的学习热情，投入更多的学习精力；而对于心理功能状况较差的学生来说，有可能引起过度焦虑，导致产生心理障碍。下面简要阐述本体因素和诱发因素对心理健康的影响</p>
<h3 id="一、本体因素"><a href="#一、本体因素" class="headerlink" title="一、本体因素"></a>一、本体因素</h3><p>　　本体因素是个体自身所具有的一种内在的、主观的因素。主要包括个体的生物遗传因素和心理活动因素。</p>
<h3 id="1-生物遗传因素"><a href="#1-生物遗传因素" class="headerlink" title="1.生物遗传因素"></a>1.生物遗传因素</h3><p>　　生物遗传因素的影响主要有遗传因素、病菌或病毒感染、脑外伤或化学中毒，以及躯体疾病或生理机能障碍等。</p>
<p>　　第一，遗传因素。一般讲，人的心理活动是不能遗传的。但是，一个人作为身心兼备的整体，与遗传因素的关系又是十分密切的，特别是一个人的躯体、气质、智力、神经过程的活动特点等，受遗传因素的影响更为明显。根据调查和临床观察，在精神病患者的家族中，患精神发育不全、抽疯发作、性情乖僻、躁狂抑郁等神经精神病或异常心理行为的人占相当比例。例如，对躁狂抑郁症和精神分裂症患者亲属的患病率的调查数据显示，精神疾病发病的原因确实具有明显的血缘关系，血缘关系越亲近，患病率越高，而这正是遗传因素的影响。</p>
<p>　　第二，病菌或病毒感染。临床研究证明，中枢神经系统的传染病，如斑疹伤寒、流行性脑炎等，由于病菌、病毒损害神经组织结构而导致器质性心理障碍或精神失常，它可以阻抑心理的发展，造成智力迟滞或痴呆。</p>
<p>　　第三，脑外伤或化学中毒。由种种原因造成的脑震荡、脑挫伤等，都可以导致意识障碍、健忘症、言语障碍、人格改变等心理障碍；由于有害化学物质侵入人体，毒害中枢神经系统，如酒精中毒、食物中毒、煤气中毒、药物中毒等，亦可导致心理障碍或精神失常。</p>
<p>第四，严重躯体疾病或生理机能障碍。这方面的影响也是造成心理障碍和精神失常的原因之一。例如内分泌机能障碍中，最突出的如甲状腺机能混乱、机能亢进时，往往出现敏感、暴躁、易怒、情绪冲动、自制力减弱等心理异常表现；肾上腺素分泌过多会引起躁狂症，而肾上腺素分泌不足则可能导致抑郁症等。</p>
<h3 id="2-心理活动因素"><a href="#2-心理活动因素" class="headerlink" title="2.心理活动因素"></a>2.心理活动因素</h3><p>　　心理活动即心理状态。个体的心理状态一旦形成，就会影响以后的心理发展和变化。心理活动因素主要包括认知因素、情绪因素和个性因素等。</p>
<p>　　第一，认知因素。认知是指人认识客观事物，反映客观事物的特性与联系，并揭露客观事物对人的意义和作用的心理活动。认知过程就是信息的获得、贮存、转换、提取和使用的过程。人类个体的认知因素涉及的范围极广，主要有感知、注意、记忆、想象、思维、言语等。</p>
<p>　　每一个体都具有各种认知因素。这些认知因素自身的发展和各认知因素之间的关系可能是协调的，也可能是不协调的。一旦某一认知因素发展不正常或某几种认知因素之间的关系失调，就会产生认知矛盾和冲突。这种矛盾和冲突，会使人感到紧张、烦躁和焦虑，于是想极力减轻或消除。</p>
<p>　　认知因素之间的失调程度越严重，则人们期望减轻或消除失调，维持平衡的动机也就越强烈。如果这种需要和动机长时间得不到满足，不能实现，则可能产生心理偏差或心理障碍。认知的严重失调，还会损坏人格的完整性和协调性，甚至导致人格变态。</p>
<p>　　第二，情绪因素。人的情绪体验是多维度、多成分、多层次的。它是一个人机体生存和社会适应的内在动力，是维持身心健康的重要因素。</p>
<p>　　一般地讲，稳定而积极的正性情绪状态，使人心境愉快、安定，精力充沛、适度，身体舒适、有力；相反，经常波动而消极的负性情绪状态，则往往使人心境压抑、焦虑，精力涣散、失控，身体衰弱、元力。因此，培养良好的正性情绪，排除不良的负性情绪，有益于人们的身心健康。</p>
<p>　　第三，个性因素。个性因素亦可称人格因素。个性因素包括性格、气质、能力和个性倾向性等因素。个性因素是心理活动因素的核心，它对一个人的心理健康影响最大。例如，同样一种生活挫折，对不同个性的人，其影响程度完全不同。有的人可能无法承受，或消极应付，从此自暴自弃；有的人则可能接受现实，正视挫折，加倍努力，奋发图强。研究表明，特殊人格特征往往是导致相应精神疾病，特别是神经官能症的发病基础。例如，谨小慎微、求全求美、优柔寡断、墨守成规、敏感多疑、心胸狭窄、事事后悔、苛求自己等强迫性人格特征，很容易导致强迫性神经症；再如，易受暗示、耽于幻想、情绪多变、容易激惹、自我中心、自我表现等特殊人格特征，很容易导致癔病症。因此，培养健全的人格，是保持身心健康的关键因素之一。</p>
<h2 id="二、诱发因素"><a href="#二、诱发因素" class="headerlink" title="二、诱发因素"></a>二、诱发因素</h2><p>　　诱发因素是直接引起心理问题的外在的、客观的因素。主要包括家庭因素、学校因素和社会因素。</p>
<h3 id="1-家庭因素"><a href="#1-家庭因素" class="headerlink" title="1.家庭因素"></a>1.家庭因素</h3><p>　　对中小学儿童的身心健康来说，家庭的影响很大。国内外大量研究表明，不良家庭环境因素容易造成家庭成员的心理行为异常。这些因素主要有：家庭主要成员变动，如父母死亡、父母离异或分居、父母再婚等；家庭关系紧张，如父母关系、婆媳关系、姑嫂关系、兄弟姐妹关系不和谐，家庭情感气氛冷漠，矛盾冲突频繁等；家庭教育方式不当，如专制粗暴、强迫压服，或溺爱娇惯、放任自流等；以及家庭变迁，出现意外事件等。</p>
<h3 id="2-学校因素"><a href="#2-学校因素" class="headerlink" title="2.学校因素"></a>2.学校因素</h3><p>　　学校是学生学习、生活的主要场所，学生的大部分时间是在学校中度过的。因此，学校生活对学生的身心健康影响也很大。学校因素主要有学校教育条件、学习条件、生活条件，以及师生关系、同伴关系等。这些条件和关系如果处理不当，就会影响学生的身心健康发展。例如，校风学风不振、学习负担过重、教育方法不当、师生情感对立、同学关系不和谐等，都会使学生的心理压抑，精神紧张、焦虑，如不及时调适，就会造成心理失调，导致心理障碍。</p>
<h3 id="3-社会因素"><a href="#3-社会因素" class="headerlink" title="3.社会因素"></a>3.社会因素</h3><p>　　社会因素主要包括政治、经济、文化教育、社会关系等，这些因素对一个人的生存和发展起着决定作用。其中社会生活中的种种不健康的思想、情感和行为，严重地毒害着学生的心灵。特别在当前，人与人之间的交往日益广泛，各种社会传媒的作用越来越大，生活紧张事件增多，矛盾、冲突、竞争加剧。所有这些现象都会加重学生的心理负担和内心矛盾，影响身心健康。</p>
<p>　　总之，上述各种因素是相互制约的，对一个人的身心健康往往是综合起作用的。因此，我们在观察、分析、诊断心理失调、心理障碍或心理疾病时，务必要充分考虑各种因素的作用，逐一考查，逐一排除，全面正确地作出诊断，采取有效的措施进行调适和治疗。</p>
]]></content>
      <categories>
        <category>SJTU</category>
      </categories>
      <tags>
        <tag>心理健康</tag>
      </tags>
  </entry>
  <entry>
    <title>如何优雅的远程访问另一台电脑</title>
    <url>/%E9%9A%8F%E7%AC%94/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E5%8F%A6%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91/</url>
    <content><![CDATA[<p> 前阵子研究了一下远程连接的问题</p>
<span id="more"></span>

<p>这个问题主要分<strong>有无公网IP</strong>两大类，之后考虑需求又有不同的方法，如何判断是否是公网IP的可以直接百度。</p>
<h3 id="有公网IP"><a href="#有公网IP" class="headerlink" title="有公网IP"></a>有公网IP</h3><h4 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h4><h5 id="onedrive"><a href="#onedrive" class="headerlink" title="onedrive"></a>onedrive</h5><p>这基本是简单的需求了，低成本低容量需求的话，<strong>onedrive</strong>是个不错的选择，免费版5G，可以淘宝花几块钱永久扩容到15G，对于一些小文档储存够用，优点是跟其他方法比起来操作起来简单方便，全平台同步，安卓平台可以下个office365就可以随时随地访问了。缺点是容量小，速度慢。当然，加钱也是可以的，拼车365的家庭版，1TB的空间，全套office，一年50左右，性价比还可以。</p>
<h5 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h5><p>另一种方法是<strong>ssh连接</strong>，它是一种专门为远程登录、连接而制定的一种加密网络传输协议。使用起来也很简单。可以参考这个视频，讲的很详细。</p>
<p><a href="https://www.bilibili.com/video/BV13L411w7XU/?spm_id_from=333.337.search-card.all.click&vd_source=f6fe5f5f48937a5b52419e6dcaf2f1d9">如何优雅地访问远程主机？SSH与frp内网穿透配置教程_哔哩哔哩_</a></p>
<p>简单来说，要在windows中使用ssh的话，按以下步骤来就好：</p>
<ol>
<li><p>首先在设置里的可选功能中找到OpenSSH客户端和服务器，前者是你用来远程访问其它电脑时使用的电脑要安装的，后者就是被远程连接的windows要安装的。</p>
</li>
<li><p>之后在服务中找到OpenSSH的两项服务，开启服务并配置类型为自动。</p>
</li>
<li><p>使用命令连接即可，其中是<strong>目标用户文件夹下那个文件夹名</strong>，-p用于指定端口</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ssh username@IP <span class="literal">-p</span> 端口号</span><br></pre></td></tr></table></figure>

<p>这里就需要用到<strong>公网IP</strong>了，如果是静态IPV6，那么直接输入电脑的IPV6地址即可。如果是路由器wan口连接的公网IPV4，就需要在路由器里配置固定mac与IP以及端口转发，<strong>ssh默认端口为22</strong>，可以将路由器的22端口转发到本地的其他没使用的端口即可，例如这里将50022映射到内网的22端口，192.168.31.165是设备的内网IP地址。</p>
<img src="image-20240323143312962.png" alt="image-20240323143312962" style="zoom: 80%;" /></li>
</ol>
<p>这样就能通过<strong>公网IP加端口转发</strong>的方式实现远程访问了，即使不在同一局域网。</p>
<p>除了使用自带的命令行，还可以使用<strong>MobaXtrem</strong>等远程连接的软件，相比cmd，这些软件能直观的看到文件目录，在传输文件时更为方便。同样，vscode也可以实现ssh远程连接的功能，在上面提到的视频中有详细的教程。</p>
<img src="image-20240323145713145.png" alt="image-20240323145713145" style="zoom:80%;" />



<h6 id="免密登录"><a href="#免密登录" class="headerlink" title="免密登录"></a>免密登录</h6><p>在输入上面的命令之后，会发现需要输 入密码来登录，如果每次都需要密码的话，就太麻烦了，所以需要配置免密登录。具体配置方法在上面的视频中也有提到。简单步骤如下：</p>
<ol>
<li>客户端命令行中输入<code>ssh-keygen</code>来生成密钥，密钥位置在<code>user/.ssh</code>文件夹中，密钥分为公钥和私钥，分别存放在<code>id_rsa.pub</code>和<code>id_rsa</code>文件中，私钥要保存好不要泄露，公钥可以公开给其他人。</li>
<li>将公钥copy到服务端中，这里有多种方法，可以使用命令<code>**ssh-copy-id -i id_rsa.pub username@ip -p 端口号**</code>来直接将公钥copy到服务端中，也可以用<code>cat id_rsa.pub</code>命令来打开公钥文件手动复制。第二种方法会在命令行中出现一个以<strong>ssh-rsa</strong>开头的很长的字符串，直接复制，然后到服务端的.ssh文件夹中新建一个名为<code>authorized_keys</code>的文件，将复制的这个公钥粘贴进去即可。</li>
</ol>
<p>这样再次登录时就不需要输入密码了，成功实现了免密登录。</p>
<p>在.ssh文件夹里除了公钥和私钥文件外，你还会发现<code>known_hosts</code>文件和你刚刚生成的<code>authorized_keys</code>这两个文件有什么用呢？前者会在你通过ssh连接其他远程服务器时生成，里面记录了连接过的服务器的信息，下次连接时会比对信息是否一致，如果不一致会发出警告。而后者就是服务端保存连接过的客户端的公钥，公钥保存在这里的客服端登录这个服务端时就不需要再输入密码了。</p>
<h4 id="图形化需求"><a href="#图形化需求" class="headerlink" title="图形化需求"></a>图形化需求</h4><h5 id="微软远程桌面"><a href="#微软远程桌面" class="headerlink" title="微软远程桌面"></a>微软远程桌面</h5><p>这是一个windows自带的软件，直接搜索<strong>远程桌面连接</strong>即可打开，打开以后界面长这个样子，使用的同样是<strong>IP地址:端口号</strong>的方式，使用的端口号是3389，所以路由器是公网IPV4的同样需要去路由器中设置端口转发，将公网的3389端口转发到内网的其他端口，然后登陆即可。第一次登录会让你输入密码，密码是<strong>服务端登录微软账号的密码，而非锁屏密码</strong>。之后会账号数据会保存在客服端的<strong>凭据管理器</strong>中，不再需要密码。</p>
<p><img src="/%E9%9A%8F%E7%AC%94/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E5%8F%A6%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91/image-20240323152439882.png" alt="image-20240323152439882"></p>
<h5 id="串流"><a href="#串流" class="headerlink" title="串流"></a>串流</h5><p>使用moonlight串流是一个不错的方案，也是我一直在用的方案，moonlight是一个通过实时压缩和传输影音的技术，支持windows、安卓，所以无论是笔记本还是平板，甚至手机都可以使用。详细可以参考这个视频<a href="https://www.bilibili.com/video/BV1gC4y127jA/?spm_id_from=333.337.search-card.all.click&vd_source=f6fe5f5f48937a5b52419e6dcaf2f1d9">【看番教程】支持4K、360Hz的远程串流，纯免费，极低延迟+优秀的画面，moonlight详细使用教学。</a></p>
<p>客户端需要在官网<a href="https://moonlight-stream.org/">Moonlight Game Streaming</a>下载moonlight软件，被串流的服务端不需要下载moonlight，服务端要下载的是<a href="https://github.com/LizardByte/Sunshine">Sunshine</a>，这是解码端。</p>
<p>下载完成后，服务端打开sunshine的webUI，首次打开需要设置用户名和密码，<strong>要牢记自己设置的用户名和密码</strong>。需要使用IPV6进行串流的要进入设置里的advanced中打开下图的设置，并到网页最下端点击保存。</p>
<img src="image-20240323155104988.png" alt="image-20240323155104988" style="zoom:80%;" />

<p>随后打开客户端的moonlight，如果在用一个局域网可以直接搜索到，搜索不到的点击加号手动添加，路由器公网IPV4的需要设置端口转发，端口号默认为<strong>47989</strong>，可以在sunshine的webUI中的advanced更改。公网IPV6的直接输入即可。首次串流时客户端的moonlight会发送一个4位的code，输入到服务端的sunshine即可，同一设备之后串流不需要再输入。</p>
<h6 id="wake-on-lan"><a href="#wake-on-lan" class="headerlink" title="wake on lan"></a>wake on lan</h6><p><strong>sunshine支持wake on lan，也就是远程唤醒</strong>，参考这个视频<a href="https://www.bilibili.com/video/BV1NH4y1s7pX/?spm_id_from=333.337.search-card.all.click&vd_source=f6fe5f5f48937a5b52419e6dcaf2f1d9">【看番教程】通过网络启动家中电脑、NAS，WOL保姆级详细教学_</a></p>
<ol>
<li>打开主板中的<strong>允许PCIE设备唤醒或者wake on lan</strong>等选项（不同主板可能不同）</li>
<li>找到网卡属性，高级，将魔术封包唤醒选项设置为开启</li>
<li>电源管理前两项勾选</li>
</ol>
<p><img src="image-20240323162256104.png" alt="image-20240323162256104" width ="50%"  align = left /><img src="image-20240323162308235.png" alt="image-20240323162308235"  width ="50%" align = right /></p>
<ol start="4">
<li>电源选项中将快速启动关闭</li>
<li>再路由器中设置MAC与IP地址绑定以及ARP绑定</li>
</ol>
<p>这样关机后就可以通过moonlight实现远程开机了</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>IP</tag>
        <tag>远程访问</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title>小米使用体验（长期更新）</title>
    <url>/%E6%9D%82%E8%B0%88/%E5%B0%8F%E7%B1%B3%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C%EF%BC%88%E9%95%BF%E6%9C%9F%E6%9B%B4%E6%96%B0%EF%BC%89/</url>
    <content><![CDATA[<p> 记录一下小米产品的使用体验，随缘更新。</p>
<span id="more"></span>

<h3 id="2023-8-1"><a href="#2023-8-1" class="headerlink" title="2023.8.1"></a>2023.8.1</h3><p>想了一下，手上目前两台米家设备，又打算买一个小米手环，这样一来小米的设备多了，看来必须记录一下使用体验了。</p>
<p>上手红米note12Turbo已经两个星期多了，当初讲了一些刚上手的体验，今天讲讲其它的。</p>
<p>手机整体使用还是很不错的，这块处理器各项性能都很优秀。续航也可以，早上充满电，中度使用可以到下午7点还剩20的电，轻度使用一整天应该没问题。也放一个平板的跑分对比，平板处理器是8+。</p>
<img src="2.jpg" alt="2" style="zoom:50%;" />

<img src="3.jpg" alt="3" style="zoom:50%;" />

<p>网易云音乐在锁屏时会专门有一个播放界面，背景是歌曲的封面之类，然后会有歌词，下面会有一个滑动解锁，但是，前两天不知什么原因，这个滑动解锁一直失效，只能从下边缘上划解锁。不过这个bug这两天又消失了，真不知道是MIUI还是网易云的锅。</p>
<img src="1.jpg" alt="1" style="zoom:33%;" />

<p>其它的bug暂时没有遇到，只是小米传送门的支持范围还是不够，比如edge浏览器还有一些其它场景用不了。</p>
<p>接下来重点讲一下小米的设备互联，也就是小米妙享。小米妙享是只支持自家电脑的，但是民间自有大佬在。当初刚到手平板的时候浅尝试了一下，没有成功，前几天又试了一次，很顺利也很成功。</p>
<p>主要参考这个<a href="https://www.bilibili.com/video/BV1iP411y7ob/">全网最简单！小米妙享安装方法_哔哩哔哩_bilibili</a>和<a href="https://www.coolapk.com/feed/42297337?shareKey=N2I4ZTc0YTk3YzA4NjRhZmU3NDU~&shareUid=23139762&shareFrom=com.coolapk.market_13.3">PC小米妙享安装+解锁流转补丁 来自 ChsBuffer - 酷安 (coolapk.com)</a>所以说玩机这块还得看酷安。</p>
<img src="image-20230801105320045.png" alt="image-20230801105320045" style="zoom:50%;" />

<p>各项功能基本正常，手机能传文件和屏幕投屏，在电脑连接了手机热点后，延迟和流畅度表现都很优秀，不足之处是画面清晰度不够，不过考虑到电脑和手机的分辨率和像素密度，倒也可以理解。</p>
<p>连接平板功能更多，可以作为镜像和扩展屏，也可以键鼠共享。其中最有用的要数屏幕扩展了，也就是把平板作为副屏来使用 ，经过测试，刷新率会被限制在60hz，帧率在144hz，还行吧。键鼠共享体验还算合格，即使我笔记本用的是无线键鼠，这样共享过去几乎还是感受不到延迟，缺点是鼠标有点飘，部分原因是分辨率问题。</p>
<img src="image-20230801105620460.png" alt="image-20230801105620460" style="zoom:50%;" />

<p>其它功能音乐流转、应用接力都可以使用。</p>
<p>接下来讲讲目前还存在的问题，</p>
<p>1.首先是一键热点不能正常使用，也就是点了一键热点并不会一键帮你连接，还需要你手动到wifi界面去连接，不过这个我更倾向于是网卡的问题，这b联发科7921问题太多了，天热掉网卡、wifi有时候连不上，以后换个网卡再试试吧。</p>
<p>2.音乐流转手机不能流转到平板上，这个好像是说手机不支持接力，但是手机和平板的音乐都可以流转到电脑上，唯独手机和平板之间不能互相流转，很怪。</p>
<p>3.手机和平板与电脑流转时必须先连接设备且开热点给电脑，即使是处于同一网络。这个也很怪，手机和平版的互联就很方便，基本只要开启了WiFi就行，而电脑即使处于同一wifi下也不行，只能靠热点。</p>
]]></content>
      <categories>
        <category>杂谈</category>
      </categories>
      <tags>
        <tag>小米</tag>
        <tag>红米</tag>
        <tag>MIUI</tag>
      </tags>
  </entry>
  <entry>
    <title>杭州游记</title>
    <url>/%E9%9A%8F%E7%AC%94/%E6%9D%AD%E5%B7%9E%E6%B8%B8%E8%AE%B0/</url>
    <content><![CDATA[<p> 7月22、23两天去了杭州，恰逢大雨。</p>
<span id="more"></span>

<p>上海离杭州还是蛮近的，快一点的高铁不到一个小时就到了，票价70多点。很久没有6点多起床了，这时候清晨的校园里基本没什么人。15号线的6号口貌似是这学期才开通的吧，正好在我们学校的墙外，离凯旋门相当近，可以说是方便不少。毕竟之前没有近的地铁口，5号线和15号线都要挺远的。15号线上平日里人也不多，而且紫竹高新区是首发站，所以可以坐到上海南站。</p>
<p>40分钟后就到了上海南站，见到了复旦的一个同学，今天是我们三个去杭州找浙大的一个同学。</p>
<p>浙大的一个门颇不像大学的门，就是马路中间开的进出学校的棚子，浙大的校医院也在那里。不过，转起来，感觉浙大就真的和城市融为一体了，像在城市的街道里一样，唯一的区别可能就是人少一点。</p>
<img src="image-20230725105533032.png" alt="偶遇痛车" style="zoom: 50%;" />

<p>因为太过融合，总觉得校园里有几个建筑像超商一样哈哈（某图书馆和某食堂）。校园里的建筑配色并不统一，有部分是青色，有部分则是红砖色。我们骑着车，走马观花式的游览了一圈浙大。</p>
<p>下午则是去了杭州动物园，斥巨资10元买了“通行证”。</p>
<img src="image-20230725110122531.png" alt="image-20230725110122531" style="zoom:50%;" />

<p>动物园里的物种还是蛮丰富的，可惜的是我们还没来的及逛多久就下起了大雨，雷声带着大雨倾泻下来，尽管撑着伞，但是鞋还是被雨水溅湿，相当难受。等雨稍小了，我们又逛了小兽圆，见到了一些🦊和臭鼬之类的，不得不说，这个蓝狐是真的好看，可惜没拍到真身。</p>
<img src="image-20230725110701931.png" alt="image-20230725110701931" style="zoom:50%;" />

<img src="image-20230725111837502.png" alt="image-20230725111837502" style="zoom:67%;" />

<p>看了天气预报，接下来一个小时不会再次下雨，于是我们匆匆离开了动物园，决定徒步前往附近的西湖。穿着湿鞋走路真是不爽。</p>
<p>西湖很大很美，不过我们没赶上好时机，不仅没看到西湖十景，在走到堤坝中间的时候又又又又下起了大雨，本来快干的鞋子又湿了，相当难受。哎，晚上用吹风机吹了好久，还是没吹完全干。</p>
<img src="image-20230725111859762.png" alt="image-20230725111859762" style="zoom:67%;" />

<p>第二天决定去钱塘江看一看。钱塘江不在涨潮期，只能看到平静的江面和雨后的钓鱼佬。要是能看到钱塘江的潮水，那就别有一番风味了。</p>
<img src="image-20230725114226526.png" alt="image-20230725114226526" style="zoom:67%;" />

<p>下午就去了市区一个大型商业区域in77，又一次见证了杭州的天气无常。其时阳光明媚，路口行人熙熙攘攘，我们正走在路上。下一秒，突然人群有点骚动，雨水滴到了我的脸上，我连忙跟着人群到店铺的屋檐下躲雨。不到五秒的时间就从阳光明媚变为大雨瓢泼，说天气无常真不过分，来了两天就能体会到杭州的典型天气，不知我们是幸运还是不幸呢。</p>
<p>中午饭时，在in77E区等了2个小时，为了尝尝这4.8评分的许府牛到底如何，结果就是狠狠踩雷了，体验极差。等待时间过长、牛肉口感很老、调料过少只有一些辣椒、葱花、香菜、耗油等等，甚至麻酱都要另外的价钱，真够难绷的。</p>
<p>写着写着就越感绝像流水账一样，就到这里吧。</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>杭州</tag>
        <tag>西湖</tag>
        <tag>钱塘江</tag>
      </tags>
  </entry>
  <entry>
    <title>树莓派使用BLE蓝牙收发数据</title>
    <url>/%E8%93%9D%E7%89%99/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8BLE%E8%93%9D%E7%89%99%E6%94%B6%E5%8F%91%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<p> 树莓派4b，蓝牙为WH-BLE103a，是一款有人物联网芯片，内置了天线。</p>
<span id="more"></span>

<img src="BLE.jpg" alt="BLE" style="zoom:80%;" />

<p>这个芯片到手多天了，最初使用手机和windows端的蓝牙调试都很正常连接，唯独树莓派不能连上，折腾多日，今天终于有了成果。</p>
<p>手上的树莓派4b安装的是ubuntu20.02，跟普通的树莓派版本不太一样，因此网上的教程很多难以复现，遇到各种各样的问题。</p>
<h3 id="1-前期准备"><a href="#1-前期准备" class="headerlink" title="1.前期准备"></a>1.前期准备</h3><p>首先树莓派需要安装蓝牙服务的有关软件，这块板子bluez版本为5.53，blueman为蓝牙图形化的工具。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install bluetooth pi-bluetooth bluez blueman</span><br></pre></td></tr></table></figure>

<p>WH-BLE103a蓝牙芯片可以通过串口进行一些设置，如设置名字、配对码、密码、波特率等等，默认名字为WH-BLE103，不需要密码，波特率为57600。指令部分可以参考这个说明文档<a href="https://datasheet.lcsc.com/lcsc/2002261032_USR-IOT-WH-BLE103_C488061.pdf">WH-BLE103说明书</a></p>
<p>这里使用TTL转USB转接头直接和电脑连接，注意供电电压为3.3V。连接方式如下</p>
<table>
<thead>
<tr>
<th>USB-TTL模块</th>
<th>WH-BLE103蓝牙模块</th>
</tr>
</thead>
<tbody><tr>
<td>RX</td>
<td>UART_TX</td>
</tr>
<tr>
<td>TX</td>
<td>UART_RX</td>
</tr>
<tr>
<td>3V3</td>
<td>VBAT</td>
</tr>
<tr>
<td>GND</td>
<td>GND</td>
</tr>
</tbody></table>
<h3 id="2-连接蓝牙"><a href="#2-连接蓝牙" class="headerlink" title="2.连接蓝牙"></a>2.连接蓝牙</h3><p>在树莓派输入hciconfig查看蓝牙模块是否可用，看到hci0服务即可。</p>
<img src="image-20230720165351018.png" alt="image-20230720165351018" style="zoom:67%;" />

<h4 id="扫描周围蓝牙设备"><a href="#扫描周围蓝牙设备" class="headerlink" title="扫描周围蓝牙设备"></a>扫描周围蓝牙设备</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo hcitool lescan</span><br></pre></td></tr></table></figure>

<p>看到需要的蓝牙mac信息后，ctrl+z停止扫描</p>
<h4 id="连接BLE设备"><a href="#连接BLE设备" class="headerlink" title="连接BLE设备"></a>连接BLE设备</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo gatttool -b 设备MAC地址 --interactive</span><br><span class="line">connect</span><br></pre></td></tr></table></figure>

<p>连接成功后就可以和BLE设备进行数据交互了。</p>
<img src="image-20230720165545183.png" alt="image-20230720165545183" style="zoom:67%;" />

<h3 id="3-数据交互"><a href="#3-数据交互" class="headerlink" title="3.数据交互"></a>3.数据交互</h3><p>树莓派连接BLE设备后,可以通过gatttool或蓝牙编程接口来发送和接收数据。</p>
<p>使用gatttool,主要是通过交互模式:</p>
<h4 id="了解特征值"><a href="#了解特征值" class="headerlink" title="了解特征值"></a>了解特征值</h4><p>不过在那之前，我们要了解BLE蓝牙的特征值，以及如何获取特征值。以下是claude的回答</p>
<blockquote>
<p>BLE (Bluetooth Low Energy) 蓝牙特征值(Characteristics)是BLE协议中的一个重要概念。<br>BLE设备通过服务(Services)和特征值进行数据通信。<br>特征值可以理解为服务中的一个数据单元。<strong>每个特征值都有一个UUID作为标识</strong>,并包含了以下信息:</p>
<ul>
<li>特征值所包含的数据值(Value)</li>
<li>描述符(Descriptors),对特征值进行说明或配置</li>
<li>属性(Properties),定义特征值支持的操作(读、写、通知等)</li>
</ul>
<p>举个例子,一个BLE心率监测设备可能有一个心率测量服务(Heart Rate Service),其中包含心率计量特征值(Heart Rate Measurement Characteristic)。<br>这个特征值的UUID是00002A37-0000-1000-8000-00805f9b34fb。它的值就是当前的心率数值。<br>通过读写这个特征值,手机App就可以获取实时心率,或者设置监测参数。<br>所以简单来说,BLE特征值就是服务提供的一个数据单元,用于传输和交互数据。正确理解和使用特征值是开发BLE应用的关键。</p>
</blockquote>
<p>我们要收发数据，就要知道“收”和“发”的特征值的uuid，怎么获取呢</p>
<p>在Linux下,可以使用蓝牙命令行工具gatttool,连接BLE设备后使用primary和characteristics命令获取服务和特征值:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">primary</span><br><span class="line">characteristics</span><br></pre></td></tr></table></figure>

<img src="image-20230720165653212.png" alt="image-20230720165653212" style="zoom:67%;" />

<p>知道这些特征值有什么用呢？</p>
<blockquote>
<p>根据你提供的这个BLE设备的characteristics信息,我可以做以下分析:</p>
<ul>
<li>0x0002: 设备名称服务(Device Name Service)的设备名称characteristic。 properties为0x20表示可读,用于读取设备名称。</li>
<li>0x0006和0x0008: GAP服务(Generic Access Profile Service)中的外围设备首选连接参数characteristic。properties为0x4E表示可读写,用于协商主从设备的连接参数。</li>
<li>0x000a: 电池服务(Battery Service)的电池电平characteristic。properties为0x02表示可通知,可以订阅通知获取电池电量信息。</li>
<li>0x000d: 看起来是一个自定义服务的readable characteristic,可读取某种数据。</li>
<li>0x0010: 同样是一个自定义服务的writable characteristic,可以写入数据控制设备。</li>
</ul>
<p>总结一下,根据UUID和properties可以判断出标准服务的一些基础characteristic,以及自定义服务可能的用途。但不确定的自定义服务需要参考开发文档才能确定。获取characteristics和分析它们的功能是开发BLE应用的关键第一步。</p>
</blockquote>
<p>也就是说，<strong>根据handle可以确定这些服务的功能</strong>，<strong>handle相当于是uuid（标识）的简化</strong>，我们可以通过这个句柄（handle）来操作特征值，而<strong>char properties就是特征值的属性</strong>，定义特征值支持的操作(读、写、通知等)。</p>
<p>那么，后面的char value handle又有什么用呢？</p>
<blockquote>
<p>在BLE协议中,Characteristic包含两个相关的Handle(句柄)概念:</p>
<ol>
<li>Characteristic Declaration Handle<br>这是Characteristic声明处的Handle,用于唯一标识这个Characteristic,通常简称为Characteristic Handle。<br>例如在你给的例子中,0x0002、0x0006等都是Characteristic Declaration的Handle。</li>
<li>Characteristic Value Handle<br>这是Characteristic的值对应的Handle,用于读写Characteristic的值,简称为Value Handle。<br>例如在你的例子中,0x0003、0x0007等都是Characteristic Value的Handle。<br>两者的区别和关系:</li>
</ol>
<ul>
<li>Declaration Handle代表整个Characteristic,用于操作Characteristic。</li>
<li>Value Handle代表Characteristic的值,用于直接读写值。</li>
<li>Declaration Handle会指向Value Handle,客户端可以通过第一个找到后者。</li>
<li>在操作时,需要先用Declaration Handle来Discover,再用Value Handle来读写。</li>
</ul>
<p>所以简单来说:</p>
<ul>
<li><strong>Characteristic Handle是Characteristic的标识符。</strong></li>
<li><strong>Value Handle是实际存储值的位置。</strong></li>
<li>通过第一个找到第二个,从而对Characteristic进行操作。</li>
</ul>
</blockquote>
<p>也就是说我们实际操作时，是对Value Handle的值进行操作的</p>
<h4 id="数据收发"><a href="#数据收发" class="headerlink" title="数据收发"></a>数据收发</h4><p>了解了上述内容，我们就知道该怎样收发数据了</p>
<p>0x000d和0x0010分别是收和发数据的handle，而我们要操作的是0x000e和0x0011</p>
<p>输入help，可以看到收发数据的指令</p>
<img src="image-20230720175359198.png" alt="image-20230720175359198" style="zoom:67%;" />

<p>例如，发送ffee</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char-write-req 0x0011 ffee</span><br></pre></td></tr></table></figure>

<p>通过串口就可以看到发送的内容了（16进制）</p>
<img src="image-20230720175649137.png" alt="image-20230720175649137" style="zoom:67%;" />

<h3 id="4-可能遇到的问题"><a href="#4-可能遇到的问题" class="headerlink" title="4.可能遇到的问题"></a>4.可能遇到的问题</h3><p>在连接蓝牙和收发数据的过程中，可能会遇到各种问题，这里简单写一些</p>
<h4 id="0-查看蓝牙日志"><a href="#0-查看蓝牙日志" class="headerlink" title="0.查看蓝牙日志"></a>0.查看蓝牙日志</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo journalctl -u bluetooth -n 10</span><br></pre></td></tr></table></figure>

<p>journalctl是Linux系统中管理日志的工具,具体作用如下:</p>
<ul>
<li>-u 参数表示查看指定服务的日志,这里我们查看蓝牙服务bluetooth的日志。</li>
<li>sudo表示用root权限运行命令,查看系统日志通常需要root权限。</li>
<li>bluetooth是蓝牙服务的系统服务名称。</li>
<li>-n 参数表示查看最近多少条日志，可以不使用</li>
</ul>
<p>使用这个命令可以方便地过滤出蓝牙服务产生的日志,包括启动时的诊断信息、运行时的调试信息、错误日志等。</p>
<h4 id="1-Error-connect-error-Function-not-implemented-38"><a href="#1-Error-connect-error-Function-not-implemented-38" class="headerlink" title="1.Error: connect error: Function not implemented (38)"></a>1.<code>Error: connect error: Function not implemented (38)</code></h4><img src="image-20230725151620659.png" alt="image-20230725151620659" style="zoom:67%;" />

<p>这种情况不会反映到日志中</p>
<h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4>]]></content>
      <categories>
        <category>蓝牙</category>
      </categories>
      <tags>
        <tag>蓝牙</tag>
        <tag>树莓派</tag>
        <tag>BLE</tag>
      </tags>
  </entry>
  <entry>
    <title>每天涨一点知识</title>
    <url>/%E9%9A%8F%E7%AC%94/%E6%AF%8F%E5%A4%A9%E6%B6%A8%E4%B8%80%E7%82%B9%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<p>每天涨一点知识</p>
<span id="more"></span>

<h2 id="1-关于网页www前缀的问题"><a href="#1-关于网页www前缀的问题" class="headerlink" title="1.关于网页www前缀的问题"></a>1.关于网页www前缀的问题</h2><p>​        在输入豆瓣电影网址（movie.douban.com）的时候我在地址栏输入”<a href="http://www.movie.douban.com“,/">www.movie.douban.com“，</a> 意外的是，竟然无法访问，尝试重新输了几次，还是不行。后来尝试着把www去掉，就能正常访问了。</p>
<p>​        在这之前，在我的认知里，“www”在输网址的时候都是可有可无的存在，访问结果都是一样的，但这件事告诉我并没有这么简单。所以我去搜索了一下。</p>
<p><a href="https://zhuanlan.zhihu.com/p/364693787">网址需要加www吗？ - 知乎 (zhihu.com)</a></p>
<p><a href="https://www.zhihu.com/question/20414602">为什么越来越多的网站域名不加「www」前缀？ - 知乎 (zhihu.com)</a></p>
<p>​        果然，又是日常容易被忽略的东西呢。</p>
<h2 id="2-爬虫爬取网页遇到”-xa0”怎么办"><a href="#2-爬虫爬取网页遇到”-xa0”怎么办" class="headerlink" title="2.爬虫爬取网页遇到”\xa0”怎么办"></a>2.爬虫爬取网页遇到”\xa0”怎么办</h2><p><a href="https://www.cnblogs.com/yqpy/p/8203783.html">python如何去掉字符串‘\xa0’ - 嶙羽 - 博客园 (cnblogs.com)</a></p>
<p><a href="https://blog.csdn.net/thewindkee/article/details/79890207">(7条消息) python 爬虫爬取内容时， \xa0 、 \u3000 的含义与处理方法_thewindkee的博客-CSDN博客_\xa0\xa0</a></p>
<h2 id="3-python-整个列表的数据类型转换"><a href="#3-python-整个列表的数据类型转换" class="headerlink" title="3.python 整个列表的数据类型转换"></a>3.python 整个列表的数据类型转换</h2><p>在使用线性回归算法预测气温时，发现从网页上爬取的温度是str类型的，需要转换成num类型，尝试了以下方法。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new = [[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>], [<span class="string">&#x27;3&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> new:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">        j = <span class="built_in">float</span>(j)</span><br></pre></td></tr></table></figure>

<p>但是并没有用。</p>
<p>感觉使用for循环一个一个元素去强制转换会有点复杂，我尝试上网搜了一下，能不能直接转换整个列表元素类型的函数。</p>
<p><a href="https://blog.csdn.net/chinacmt/article/details/68488918">(7条消息) python修改list中所有元素类型_chinacmt的博客-CSDN博客_python改变list中的类型</a></p>
<p>这篇博客详细介绍了三种方法。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new = <span class="built_in">list</span>()</span><br><span class="line">a = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> a:</span><br><span class="line">    new.append(<span class="built_in">int</span>(x))</span><br><span class="line"><span class="built_in">print</span>(new)</span><br></pre></td></tr></table></figure>

<p>这种方法最容易想到，就是一个一个转换，但是，对于二维的列表（有一定结构）不好使</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line">b = [<span class="built_in">int</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> a]</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure>

<p>这个对于二维及以上的也有用，而且不会破坏原有的结构</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line">b = <span class="built_in">map</span>(<span class="built_in">int</span>, a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> b:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="built_in">type</span>(i))</span><br></pre></td></tr></table></figure>

<p>这种方法同样也只适用于一维结构，而且，map的返回值是map object，需要强制转换成list</p>
<p>我想了一下，第三种方法配合for循环也能实现高维结构</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new = [[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>], [<span class="string">&#x27;3&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">new1 =[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(new)):</span><br><span class="line">    new1.append(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">float</span>, new[i])))</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>这样确实不会破坏原有的结构，但是也确实麻烦，还是用第二种方法吧</p>
<h2 id="4-阿里云盘秒传"><a href="#4-阿里云盘秒传" class="headerlink" title="4.阿里云盘秒传"></a>4.阿里云盘秒传</h2><p>再阿里云盘上传文件时，发现有些1G多的文件竟然瞬间（不夸张）就上传完成了，一开始我还以为是刚下载的文件的文件上唇速度很快，然后搜了一下，发现并不是：</p>
<p><a href="https://developer.aliyun.com/article/42506">【转】烂泥：网盘的秒传原理-阿里云开发者社区 (aliyun.com)</a></p>
<h2 id="5-安装Ubuntu时遇到的问题"><a href="#5-安装Ubuntu时遇到的问题" class="headerlink" title="5.安装Ubuntu时遇到的问题"></a>5.安装Ubuntu时遇到的问题</h2><p>安装界面太小导致继续等按钮显示不出来，按住win键＋鼠标左键可以拖动窗口</p>
<h2 id="6-pak文件"><a href="#6-pak文件" class="headerlink" title="6.pak文件"></a>6.pak文件</h2><p>在翻wildlif时发现了游戏所占的大部分空间为一个pak类型的文件，这是一个压缩类型的文件，游戏用的比较多，比如植物大战僵尸</p>
<p><a href="https://zhuanlan.zhihu.com/p/400950006">Pak文件格式说明 - 知乎 (zhihu.com)</a></p>
<h2 id="7-如何使某个文件夹内的图片不被显示在相册里？"><a href="#7-如何使某个文件夹内的图片不被显示在相册里？" class="headerlink" title="7.如何使某个文件夹内的图片不被显示在相册里？"></a>7.如何使某个文件夹内的图片不被显示在相册里？</h2><p>很多游戏内图片被扫描进去，多达几千张，显得很乱。</p>
<p>解决方法：在不想被扫描的文件夹里创建一个名为“.nomedia”的空文件夹即可。</p>
<p>此方法对视频、音频同样有效，但对安装包等其它文件没有用。</p>
<p><a href="https://blog.csdn.net/qq_39994562/article/details/107310118">(7条消息) android 图片保存到文件夹中 但不在本地图库中显示_王虫虫就爱吃的博客-CSDN博客</a></p>
<p>2022/7/21更新</p>
<p>.nomedia文件夹功能似乎失效，但创建.nomedia文件仍可用（使用第三方文件管理器如mt，es等</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>清源</title>
    <url>/%E9%9A%8F%E7%AC%94/%E6%B8%85%E6%BA%90/</url>
    <content><![CDATA[<p> 在清源研究院实习的一些记录</p>
<span id="more"></span>

<h3 id="2023-6-28"><a href="#2023-6-28" class="headerlink" title="2023.6.28"></a>2023.6.28</h3><p>mpu6050 六轴，三轴加速度，三轴陀螺仪</p>
<p><a href="https://item.szlcsc.com/24852.html">MPU-6050_（TDK InvenSense(应美盛)）MPU-6050中文资料_价格_PDF手册-立创电子商城 (szlcsc.com)</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/100740936">Arduino开发板使用MPU6050加速度计和陀螺仪的方法 - 知乎 (zhihu.com)</a></p>
<p><img src="/%E9%9A%8F%E7%AC%94/%E6%B8%85%E6%BA%90/image-20230628110652555.png" alt="image-20230628110652555"></p>
<p><a href="https://item.szlcsc.com/202245.html">BMI055_（Bosch(博世)）BMI055中文资料_价格_PDF手册-立创电子商城 (szlcsc.com)</a></p>
<h4 id="usb接口"><a href="#usb接口" class="headerlink" title="usb接口"></a>usb接口</h4><p><a href="https://zhuanlan.zhihu.com/p/447595295">秒懂所有USB接口类型，USB接口大全；Type-A、Type-B、Type-C、miniUSB、microUSB区分 - 知乎 (zhihu.com)</a></p>
<h5 id="命名问题"><a href="#命名问题" class="headerlink" title="命名问题"></a>命名问题</h5><p><img src="/%E9%9A%8F%E7%AC%94/%E6%B8%85%E6%BA%90/usb.jpg" alt="usb"></p>
<h5 id="接口类型"><a href="#接口类型" class="headerlink" title="接口类型"></a>接口类型</h5><p>标准USB接口：Type A，Type B支持USB1.0-3.2</p>
<p>mini：mini A，mini B，仅支持到USB2.0</p>
<p>Micro：Micro A，Micro B，支持到USB3.0</p>
<p>Type C：从USB2.0-4.0</p>
<p><img src="/%E9%9A%8F%E7%AC%94/%E6%B8%85%E6%BA%90/image-20230628141549844.png" alt="image-20230628141549844"></p>
<h4 id="关于OTG"><a href="#关于OTG" class="headerlink" title="关于OTG"></a>关于OTG</h4><p><a href="https://zhuanlan.zhihu.com/p/454364494">手机OTG连接什么意思？都能实现哪些功能 - 知乎 (zhihu.com)</a></p>
<p>OTG（On The Go，没有主机时的，端对端的数据传输，如相机直接与打印机连接而打印照片）功能是目前大多数智能手机的一个设计，具备这个功能的手机可通过使用OTG转接头或转接线连接其它设备。</p>
<p>a:例如U盘，手机支持OTG、或者使用OTG转接头，然后就可以在手机上直接读取U盘文件。</p>
<p>b:比较常见的支持USB的设备均可通过OTG方式进行连接，常见的比如键盘、手 机、游戏操作手柄等等。（手机键盘，鼠标等就是通过OTG方式连接）</p>
<p>c:当外出在外，有些小设备（手环、智能手表、MP3等）没有电时，可以通过使用支持反向充电的专用OTG线连接手机进行充电。</p>
<h4 id="什么是雷电4"><a href="#什么是雷电4" class="headerlink" title="什么是雷电4"></a>什么是雷电4</h4><p><a href="https://zhuanlan.zhihu.com/p/449978612">到底什么是雷电接口，这个接口有什么用？ - 知乎 (zhihu.com)</a></p>
<p>雷电和HDMI、DP一样，都是一种传输协议，英文名为Thunderbolt。</p>
<p>目前雷电3/4的接口形状和Type C口的形状相同。</p>
<p>特别注意：不是所有的TypeC接口都是雷电接口，TypeC只是接口的规格和形态，而雷电是一种标准，两者没有必然关联，只不过现阶段雷电口是以C口的形式出现，并不意味着你电脑上有TypeC接口他就是雷电接口，主要标志物是看旁边有没有闪电标志。</p>
<p>关于雷电接口的主要优势可以用两个词来形容：”<strong>全兼容</strong>“ “<strong>高带宽</strong>“。</p>
<p>雷电3与雷电4的扩展坞都需要供电才能使用。</p>
<p>雷电3雷电4，最高能够扩展出USB 3.2 Gen2（即USB3.1）接口 ，都还不支持USB3.2，可以扩展出DP1.4，HDMI2.1，PD供电，音频口，内存口，网线口，vga口接口等。</p>
<h4 id="屏幕刷新率与传输带宽要求"><a href="#屏幕刷新率与传输带宽要求" class="headerlink" title="屏幕刷新率与传输带宽要求"></a>屏幕刷新率与传输带宽要求</h4><p><a href="https://zhuanlan.zhihu.com/p/638519560#">视频分辨率、刷新率和传输带宽之间的联系，你了解吗？ - 知乎 (zhihu.com)</a></p>
<p>以4k 60hz为例：</p>
<p>带宽要求：3840*2160(分辨率) *3(三个子像素) *8bit(位深，256) *60fps=11.12Gbps</p>
<h4 id="Arduino-Uno"><a href="#Arduino-Uno" class="headerlink" title="Arduino Uno"></a>Arduino Uno</h4><p><a href="https://zhuanlan.zhihu.com/p/404917210">认识Arduino UNO - 知乎 (zhihu.com)</a></p>
<h4 id="IIC-I2C通信协议"><a href="#IIC-I2C通信协议" class="headerlink" title="IIC/I2C通信协议"></a>IIC/I2C通信协议</h4><p><a href="https://zhuanlan.zhihu.com/p/503219395">IIC通信协议，搞懂这篇就够了 - 知乎 (zhihu.com)</a></p>
<p>I2C(<strong>IIC</strong>)属于两线式串行总线，由飞利浦公司开发用于微控制器(MCU)和外围设备(从设备)进行通信的一种总线，属于<strong>一主多从(一个主设备(Master)，多个从设备(Slave))的总线结构</strong>，<strong>总线上的每个设备都有一个特定的设备地址，以区分同一I2C总线上的其他设备</strong>。</p>
<h3 id="2023-6-29"><a href="#2023-6-29" class="headerlink" title="2023.6.29"></a>2023.6.29</h3><h4 id="欧拉角"><a href="#欧拉角" class="headerlink" title="欧拉角"></a>欧拉角</h4><p>使用原本的大传感器时有一个输出是欧拉角，网上查了查，看的云里雾里的。</p>
<p><a href="https://www.zhihu.com/question/47736315">如何通俗地解释欧拉角？之后为何要引入四元数？ - 知乎 (zhihu.com)</a></p>
<h4 id="立创EDA"><a href="#立创EDA" class="headerlink" title="立创EDA"></a>立创EDA</h4><p><a href="https://zhuanlan.zhihu.com/p/76736613">200 一步步开始学习制作PCB&amp;PCBA–绘制原理图 - 知乎 (zhihu.com)</a></p>
<h4 id="九轴"><a href="#九轴" class="headerlink" title="九轴"></a>九轴</h4><p><a href="https://item.szlcsc.com/72567.html">MPU-9250_（TDK InvenSense(应美盛)）MPU-9250中文资料_价格_PDF手册-立创电子商城 (szlcsc.com)</a></p>
<p>ICM-20948</p>
<p>三轴磁传感器</p>
<p>QMC5883</p>
<p><a href="https://item.szlcsc.com/391847.html">MMC5603NJ_（MEMSIC(美新)）MMC5603NJ中文资料_价格_PDF手册-立创电子商城 (szlcsc.com)</a></p>
<h3 id="2023-7-03"><a href="#2023-7-03" class="headerlink" title="2023.7.03"></a>2023.7.03</h3><p>今天画PCB板</p>
<p>先放成果</p>
<p><img src="/%E9%9A%8F%E7%AC%94/%E6%B8%85%E6%BA%90/image-20230703145943612.png" alt="image-20230703145943612"></p>
<p>几个注意事项：</p>
<p>1.电源线要粗一点，这里用的是20mil，90°圆弧</p>
<p>2.过不去的地方使用过孔。</p>
<p>3.其余线用45°线条。</p>
<h3 id="2023-07-10"><a href="#2023-07-10" class="headerlink" title="2023.07.10"></a>2023.07.10</h3><p>使用蓝牙将IMU数据传输到树莓派</p>
<p>寻找贴片蓝牙模块ESP32-PICO-D4</p>
<h3 id="2023-7-11"><a href="#2023-7-11" class="headerlink" title="2023.7.11"></a>2023.7.11</h3><p>找到新蓝牙模块<strong>WH-BLE103a</strong></p>
<p>设计二合一（atmega328+蓝牙）PCB电路板和三合一（atmega328+蓝牙+IMU）PCB电路板</p>
<img src="image-20230711175318786.png" alt="三合一" style="zoom:50%;" />

<img src="image-20230711175333683.png" alt="二合一" style="zoom:50%;" />

<h3 id="2023-07-18"><a href="#2023-07-18" class="headerlink" title="2023.07.18"></a>2023.07.18</h3><p>这么多天一直在调试这个蓝牙模块WH-BLE103a，手机和windows都能连接的上，就是树莓派死活连接不了，受不了了。</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>IMU</tag>
        <tag>PCB</tag>
      </tags>
  </entry>
  <entry>
    <title>红米Note12Turbo上手体验与真我GTNeo对比</title>
    <url>/%E6%9D%82%E8%B0%88/%E7%BA%A2%E7%B1%B3Note12Turbo%E4%B8%8A%E6%89%8B%E4%BD%93%E9%AA%8C%E4%B8%8E%E7%9C%9F%E6%88%91GTNeo%E5%AF%B9%E6%AF%94/</url>
    <content><![CDATA[<p>这两天入手了红米Note12Turbo，在更换手机和使用过程中有不少感触，拿出来讲一讲。</p>
<span id="more"></span>

<p>原手机是真我GTNeo闪速版12+256的版本，21年暑假买的，没记错的话应该是2000出头的价格。闪速版和普通版的参数基本一致，除了屏幕和电池稍有不同，闪速版的充电要快一点，是65w快充，这个快充放当年是相当领先的了，毕竟两年后手上的这台红米也只有67w快充。</p>
<p>参数对比什么的我就不一一陈述了，可以参考这个<a href="https://detail.zol.com.cn/ProductComp_param_1371871-1490492.html">真我 GT Neo 闪速版（12GB/256GB/全网通/5G版）和红米 Note 12 Turbo（12GB/512GB）【参数对比】</a>，我主要讲一下体验部分。</p>
<p>真我是在近乎首发的时候买的，据说这个机子在22年初就已经降到了1300+（8+256）的程度，确实有点让人意外。手上的红米倒不是首发买的，这台手机是3月份发布的，经过4个月的时间，风评不错，在多方参考之后，决定入手。到手的是12+512版本的，说实话，我对16+1T版本的很是心动，但是考虑到预算和需求问题，还是选择了12+512的。</p>
<p>原本的真我经过两年的使用，卡顿和续航有点问题，中间也因为摔坏而更换了一次屏幕，因为是内屏摔坏的，所以更换了整块屏幕。但是当时的官方给出的屏幕价格是800+，已经快赶上二手整机的价格了，所以就换了一块100多的第三方屏幕，而代价呢，就是120hz刷新率变为了90hz，而且没有了屏下指纹识别。卡顿的感受可能不少也缘于这个刷新率，不过更多还是手机本身的问题，在我的各种折腾下，256G存储还是不太够用了，在加上天玑1200的处理器放到现在的表现确实不太行，所以在日常使用体验上，卡顿是常有的，尤其是在播放高码率视频的时候，长按倍速画面就停滞不动了，其它诸如打开app，各种点击等都能感受到流畅度大不如前。此外，续航也是一个问题，犹记得刚买的时候，一天充一次电还是够的，现在呢，早上满电，中度使用的情况下，到了下午1-2点的时候基本就没电了，一天要充2-3次。指纹和发热相比上面倒是小问题了。没有了指纹，改用人脸识别，除了在晚上没光的时候不能识别外，基本没什么问题，还有一些支付软件以及银行的登录也有不方便之处。第三方的屏幕有些发热不均，明显下1/3的地方发热会更严重，不过本来到了夏天手机都会烫手，这个问题倒也被掩盖了。</p>
<p>红米Note12Turbo我买的是冰羽白的配色，说实话，颜值真的很高，虽然到手我就换上了手机壳，但是它的颜值确实高，背面不是纯白，而是像结冰一样的纹理，这个后背让我很满意。</p>
<img src="5102e417695862a3d879824caedbb78c.jpg" alt="冰羽白" style="zoom:50%;" />

<p>这台红米处理器是骁龙7+gen2的，名为7+gen2，实际为低配版8+，因为架构基本相同，均为1+3+4，不同点为大中核的频率稍低，以及砍掉了2MB的缓存，看了几个评测后，比较满意这块处理器的表现，能效比相当不错，这也是买这台机子的重要原因之一。在618之前，我看上的是iqoo neo7se，12+256的配置，搭载天玑8200，看了很久，在615的时候价格来到了1509，性价比很高了，但是最终没有买。如今价格在1600+接近1700，比较了下两台机子，200多换来性能和能效都更好的处理器、256g存储以及和平板的联动还是不错的。</p>
<img src="image-20230716134213902.png" alt="image-20230716134213902" style="zoom:67%;" />

<p>到手验完机后，首先来一次手机搬家。消息称小米联合蓝绿厂组建了“换机联盟”，支持包括各自品牌以及子品牌如红米、iqoo、realme在内的手机迁移数据，包括第三方应用数据，无疑是很好的消息，但实际体验下来，这个换机功能依然存在bug。在小米换机和欢太手机搬家版本满足官网要求的版本下，我的真我手机中的第三方应用数据依然不能迁移到这台红米上，具体表现为虽然确有授权迁移第三方应用数据，但是到迁移第三方应用数据时进度完全卡住不动，长达4个小时。结果就是我手动取消，包括微信和qq聊天记录在内的所有第三方应用数据全部不能传输，我使用了微信和qq的聊天记录迁移功能，其它应用数据无奈留在原手机。</p>
<img src="f04c703f5477a7251f80351443aaae61.jpg" alt="f04c703f5477a7251f80351443aaae61" style="zoom:50%;" />

<p>在第二天我询问相关客服时，真我客服甩锅，表示你换红米手机就该去问红米手机客服去，小米客服含糊其辞，不能解决问题，体验较差。</p>
<p>在原手机恢复出厂设置的过程中，也体验到真我系统的部分槽点。首先是，手机备份不能备份第三方应用数据，那备份软件还有何用？相比之下，看了眼MIUI的备份，还是可以备份第三方应用数据的。既然如此那确实没办法了，我就备份了原手机能备份的所有数据。其次是，便签内容不能导出，原手机的便签存了较多重要内容，但是真我的便签却不能导出，最终选择了云同步来解决。不过这个并不只是真我的问题，MIUI也是不能导出和导入便签的，不知其它厂商如何。但是无论如何，用户端的最终体验是不好的，不止我一个人有迁移便签的需求，在网上也找到了同样的真我用户的诉求，时隔将近两年，官方依然没有做出这方面的改进。</p>
<p>比较好的地方是，真我的云同步可以同步相册、WLAN、密码本等，还是有利于恢复出厂设置后的数据恢复的。在导入备份的过程中，我发现了它会保留和原先相同的桌面图标排布，这点还是很可以的。系统设置也可以大致恢复，有一些除外，例如手机的音效、铃声设置、手机壁纸和字体设置。</p>
<p>我并非第一次用小米的手机，上大学前的手机也是小米的一部4+64的，但是忘记了具体牌子。如今的MIUI系统变化还是挺大的，在上手这台MIUI14的红米时，也遇到不少优点和槽点。</p>
<p>先说优点吧，首先是多应用媒体音调节的功能，这个是我盼望已久的功能，可惜真我一直没有做。动画也比真我要快一点，就显得流畅了点。本来想吐槽一下红米的这个拍照快捷手势的，它手势和真我的一样电源键+音量下键，但是问题在于，真我这两个按键是在两边，我右手拿手机可以一只手截屏，红米这两个按键都是在手机右侧，这就导致了我右手拿手机完全无法一只手截屏，这对习惯了这个按键组合人来讲真的很不方便。但是但是，MIUI有个自定义手势的功能，可以自定义的功能极多，包括微信、支付宝付款码、截图、相机、小爱等等，这可比那两个按键方便多了。</p>
<img src="aea6efe3230b5e013cda0b470c7f6398.jpeg" alt="img" style="zoom:50%;" />

<p>此外，这个传送门功能也是相当不错，任何地方长按都可以在侧边呼应出来，图片识别有扫码和识物功能，文本识别有搜索、分词复制和翻译，个人觉得实用性相当不错。</p>
<img src="d01ca206d1003527e0d6b0af1a640d91.jpeg" alt="img" style="zoom:50%;" />

<hr>
<p>悲报，就在我写这文章时，又发现了痛苦的一件事。手机搬家也会忽略掉带有.nomedia文件的文件夹，这导致了我很多数据的丢失，而我现在才发现！</p>
<hr>
<p>接下来是槽点，主要有两类，一类槽点是属于习惯问题，另一类则是小米系统设计问题。习惯问题挺多的，诸如上边写的截图快捷键、以及下拉菜单分两边（这个可以在设置中切换）等</p>
<p>其它槽点每一个都可以单独伶出来说一说，第一个也是最大的槽点：逆天的相册云同步。在打开相册云同步时，可以自由选择同步的相册，但是相机确实默认同步不能手动开关的，这就导致5G的空间被轻松占满，逼你去买它的空间。而且在云端删除照片时也会删除掉本地的图片，这个设置还没有一个明显的开关，只能通过断开设备与云的连接来解决，参考这个<a href="https://www.bilibili.com/video/BV1We4y1q7WD/?spm_id_from=333.337.search-card.all.click&vd_source=f6fe5f5f48937a5b52419e6dcaf2f1d9">miui13云相册清理，防止误删本地相片</a></p>
<p>第二是自带的搜狗输入法定制版。在自己绘制皮肤时不能调整输入区域的宽度，它默认的宽度不一定就是适合的，这就导致后续设计完毕调整宽度时会导致图像比例失调。而且，自己绘制皮肤时不能调整字体粗细，出来的结果不甚满意。在调整工具栏时，不管怎么样最右侧都是一个广告，应用精选，很容易误触，找了半天也没找到在哪关掉，只得上网搜，结果竟然是叫”节日活动提醒“，伪装的有够逆天的。</p>
<p>第三是有关主题的，我原本真我手机用的字体是Aa-楷体，但是小米的主题商店里并没有这款字体，就比较难受。切换到一个中意的字体后，没调整字体大小，视觉上却又比原本小了点，而且切换不到一个合适的大小，不是偏小就是偏大。文件夹的透明度相比真我高了点，视觉上就不是那么明显，这是一个适应的问题。</p>
<p>还有一些小的槽点，比如自动亮度不是那么好用，在一些环境下偏暗，还要我手动调高亮度、小米妙享中心能实现的功能还很有限等等。</p>
<hr>
<p>今天出门吃饭又发现了指纹解锁如果设置为轻触解锁的话，放口袋里会有概率误触。</p>
<hr>
<p>目前的使用体验大致就这样。</p>
]]></content>
      <categories>
        <category>杂谈</category>
      </categories>
      <tags>
        <tag>手机</tag>
        <tag>手机系统</tag>
      </tags>
  </entry>
  <entry>
    <title>线代编程作业</title>
    <url>/SJTU/%E7%BA%BF%E4%BB%A3%E7%BC%96%E7%A8%8B%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<p>SJTU线性代数编程作业</p>
<span id="more"></span>

<h2 id="要求："><a href="#要求：" class="headerlink" title="要求："></a>要求：</h2><p>(一)任意选一种数学软件如Mathematica,MATLAB,Maple，或你学过的其它编程软件如C++计算:</p>
<p>(1)计算23阶行列式D</p>
<p>(2)对9x13矩阵A,做行初等变换求A的规范的阶梯形矩阵H和方程AX=0的通解</p>
<p>(3)求A的列向量组的一个极大无关组,并对得到的极大无关组施行Schmidt正交化求标准正交组.</p>
<p>(二)行列式D(矩阵A)的产生:</p>
<p>设D=dij23.则0&lt;=dij&lt;=9都是整数,利用你的学号构造一个一位整数构成的数列.把学号的每一位上数(从左到右)作为数列的一项;把每一位的</p>
<p>平方拆成一位数作为数列的一项;把每一位的立方拆成一位数作为数列的每一项;这样依次下去，直到得到足够多的项.把所得到的数列的各</p>
<p>项依次排在行列式的各行上.</p>
<p>例如:你的学号是1234567890.则一个13阶的行列式如下:</p>
<p><img src="/SJTU/%E7%BA%BF%E4%BB%A3%E7%BC%96%E7%A8%8B%E4%BD%9C%E4%B8%9A/1.png"></p>
<p>(三)程序输入为你的学号(可以作为一个整体,也可以逐位输入),输出为行列式(最后结果)、规范的阶梯阵、极大无关组与标准正交组。上传</p>
<p>文件为源文件与输出文件.</p>
<h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><h3 id="c-生成23阶矩阵"><a href="#c-生成23阶矩阵" class="headerlink" title="c++生成23阶矩阵"></a>c++生成23阶矩阵</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">my_length</span><span class="params">(<span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (p == <span class="number">0</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; ; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p == <span class="number">0</span>)<span class="keyword">return</span> i;</span><br><span class="line">		p /= <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;输入12位学号，空格间隔输入或者每输一个就换行&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">int</span> line[<span class="number">529</span>];</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> temp;</span><br><span class="line">	<span class="keyword">int</span>  k = <span class="number">11</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cin &gt;&gt; line[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> cont = <span class="number">2</span>;; cont++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			temp = <span class="built_in">pow</span>(line[i], cont);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="built_in">my_length</span>(<span class="built_in">pow</span>(line[i], cont)); j &gt; <span class="number">0</span>; j--)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (k + j &gt; <span class="number">528</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					temp /= <span class="number">10</span>;</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				line[k + j] = temp % <span class="number">10</span>;</span><br><span class="line">				temp /= <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			k = k + <span class="built_in">my_length</span>(<span class="built_in">pow</span>(line[i], cont));</span><br><span class="line">			<span class="keyword">if</span> (k &gt;= <span class="number">528</span>)<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (k &gt;= <span class="number">528</span>)<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">529</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; line[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		<span class="keyword">if</span> ((i + <span class="number">1</span>) % <span class="number">23</span> == <span class="number">0</span>)cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="matlab"><a href="#matlab" class="headerlink" title="matlab"></a>matlab</h3><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">clear</span><br><span class="line">clc</span><br><span class="line"></span><br><span class="line">fprintf(<span class="string">&#x27;23x23矩阵A为&#x27;</span>);</span><br><span class="line"><span class="comment">%将生成的23阶矩阵粘贴在A处</span></span><br><span class="line">A=[]</span><br><span class="line"></span><br><span class="line"><span class="comment">%第(1)题：生成23阶矩阵D1并计算行列式D</span></span><br><span class="line">fprintf(<span class="string">&#x27;A的行列式为&#x27;</span>);</span><br><span class="line">D=det(A)</span><br><span class="line"></span><br><span class="line"><span class="comment">%第(2)题：生成9x13矩阵A并化为阶梯形矩阵</span></span><br><span class="line">A1=<span class="built_in">zeros</span>(<span class="number">9</span>,<span class="number">13</span>);</span><br><span class="line">fprintf(<span class="string">&#x27;9x13矩阵A1为&#x27;</span>);</span><br><span class="line">A1(<span class="number">1</span>:<span class="number">9</span>,<span class="number">1</span>:<span class="number">13</span>)=A(<span class="number">1</span>:<span class="number">9</span>,<span class="number">1</span>:<span class="number">13</span>)</span><br><span class="line">fprintf(<span class="string">&#x27;化为规范阶梯型&#x27;</span>);</span><br><span class="line">H=rref(A1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%求基础解系</span></span><br><span class="line">format <span class="built_in">rat</span>;</span><br><span class="line">fprintf(<span class="string">&#x27;基础解系&#x27;</span>);</span><br><span class="line">x=null(A1,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">%第(3)题B为极大无关组，C为是施密特正交化后的结果</span></span><br><span class="line">[H <span class="built_in">j</span>]=rref(A1);</span><br><span class="line">fprintf(<span class="string">&#x27;极大无关组为&#x27;</span>);</span><br><span class="line">B=A1(:,<span class="built_in">j</span>)</span><br><span class="line">fprintf(<span class="string">&#x27;施密特正交化后&#x27;</span>);</span><br><span class="line">C=Schmidt_orthogonalization(B)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>=<span class="title">Schmidt_orthogonalization</span><span class="params">(A)</span></span></span><br><span class="line">[m,n] = <span class="built_in">size</span>(A);</span><br><span class="line">b=<span class="built_in">zeros</span>(m,n);</span><br><span class="line"><span class="comment">%正交化</span></span><br><span class="line">b(:,<span class="number">1</span>)=A(:,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">2</span>:n</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="built_in">i</span><span class="number">-1</span></span><br><span class="line">        b(:,<span class="built_in">i</span>)=b(:,<span class="built_in">i</span>)-<span class="built_in">dot</span>(A(:,<span class="built_in">i</span>),b(:,<span class="built_in">j</span>))/<span class="built_in">dot</span>(b(:,<span class="built_in">j</span>),b(:,<span class="built_in">j</span>))*b(:,<span class="built_in">j</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    b(:,<span class="built_in">i</span>)=b(:,<span class="built_in">i</span>)+A(:,<span class="built_in">i</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%单位化</span></span><br><span class="line"> <span class="keyword">for</span> k=<span class="number">1</span>:n</span><br><span class="line">     b(:,k)=b(:,k)/norm(b(:,k));</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>SJTU</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>线代</tag>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>重拾hexo</title>
    <url>/Hexo/%E9%87%8D%E6%8B%BEhexo/</url>
    <content><![CDATA[<p>一年半</p>
<span id="more"></span>

<h3 id="2023-06-29"><a href="#2023-06-29" class="headerlink" title="2023.06.29"></a>2023.06.29</h3><h4 id="来历"><a href="#来历" class="headerlink" title="来历"></a>来历</h4><p>从零（×）开始搭建个人博客</p>
<img src="image-20230629161008238.png" alt="image-20230629161008238" style="zoom: 50%;" />

<p>目前的样子，貌似是21.12.25做的，后来就没怎么管过，现在已经完全忘记怎么做的了，那个视频也没有保存（悲</p>
<p>这个样式现在看来也不是那么好看了</p>
<p>所以，这个暑假要重新做一个博客！</p>
<h4 id="第一步：准备工作，安装nodejs，git，hexo"><a href="#第一步：准备工作，安装nodejs，git，hexo" class="headerlink" title="第一步：准备工作，安装nodejs，git，hexo"></a>第一步：准备工作，安装nodejs，git，hexo</h4><p><a href="https://nodejs.org/">nodejs.org</a></p>
<p><a href="https://git-scm.com/">Git (git-scm.com)</a></p>
<p>安装两个时都需要注意勾选添加进PATH</p>
<p>使用命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>来安装hexo</p>
<p>安装后，在合适位置创建你的博客文件夹，进入文件夹，右键进入git bash，使用如下命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p>初始化hexo，然后就会看到初始化的一些文件夹和文件。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>

<p>在浏览器输入localhost:4000即可在本地看到博客网页了。</p>
<h4 id="第二步：创建github仓库，并添加ssh公钥。"><a href="#第二步：创建github仓库，并添加ssh公钥。" class="headerlink" title="第二步：创建github仓库，并添加ssh公钥。"></a>第二步：创建github仓库，并添加ssh公钥。</h4><p>创建一个“你的用户名.github.io”的仓库，只有这样，将来要部署到GitHub page的时候，才会被识别。</p>
<p>打开设置，ssh，将公钥全部复制进去即可。</p>
<h5 id="ssh密钥是什么"><a href="#ssh密钥是什么" class="headerlink" title="ssh密钥是什么"></a>ssh密钥是什么</h5><p>ssh是一种远程登录服务器的一种方式，密钥则是ssh的安全验证，通过创建私人密钥和公用密钥来实现登录验证。</p>
<p>密钥验证登录 </p>
<ol>
<li>客户端生成公钥和私钥，将公钥提前部署在服务器上。 </li>
<li>客户端发起连接请求。 </li>
<li>服务器随机生成一个字符串，用本地的公钥加密，发送给客户端。 </li>
<li>客户端通过私钥解密，将解密后的字符串发送给服务器。 </li>
<li>服务器验证本地字符串和客户端发来的字符串的一致性，如果通过，则认证成功。</li>
</ol>
<h5 id="如何生成ssh密钥"><a href="#如何生成ssh密钥" class="headerlink" title="如何生成ssh密钥"></a>如何生成ssh密钥</h5><p>windows上在git bash通过命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail&quot;</span><br></pre></td></tr></table></figure>

<p>来生成密钥</p>
<p>以下是来自微软官方的解释<a href="https://learn.microsoft.com/zh-cn/azure/virtual-machines/linux/create-ssh-keys-detailed">创建 SSH 密钥对的详细步骤 - Azure Virtual Machines | Microsoft Learn</a></p>
<img src="image-20230629170659380.png" style="zoom:67%;" />

<p>youremail是git保存的邮箱，具体见下述链接<a href="https://zhuanlan.zhihu.com/p/120862483">如何配置 Git 用户名和邮件地址 - 知乎 (zhihu.com)</a></p>
<p>这时候会在user文件夹下生成一个.ssh文件夹，里面包含了私钥和公钥，公钥相比私钥包含了.pub后缀名。</p>
<h4 id="第三步：将hexo部署到github"><a href="#第三步：将hexo部署到github" class="headerlink" title="第三步：将hexo部署到github"></a>第三步：将hexo部署到github</h4><p>首先配置hexo的配置文件。进入博客文件夹，打开_config.yml，到最后，修改deploy块为</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: &#x27;git&#x27; </span><br><span class="line">  repo: https://github.com/yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>然后安装deploy-git，即部署要用的命令。</p>
<p>在cmd中输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>然后</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>其中hexo clean，即清除之前生成的东西。</p>
<p>hexo g为hexo generate，即根据你博客这个文件夹生成静态网页。</p>
<p>hexo d为hexo deply，即将博客部署到github</p>
<p>以后更新博客时用到的就是这三个命令。</p>
<p>可以在<a href="http://yourname.github.io看到你的博客了(更新会有延迟)./">http://yourname.github.io看到你的博客了（更新会有延迟）。</a></p>
<h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h4><p>今天主要参考<a href="https://www.cnblogs.com/jscs/p/13582883.html">hexo史上最全搭建教程 - JS脚本 - 博客园 (cnblogs.com)</a></p>
<p>正好摸鱼要下班了，明天更新hexo的配置、主题等内容。</p>
<h3 id="2023-06-30"><a href="#2023-06-30" class="headerlink" title="2023.06.30"></a>2023.06.30</h3><p>今天写一写hexo的配置，官网<a href="https://hexo.io/zh-cn/">Hexo</a></p>
<p>发现hexo官网就有详细的安装、建站、部署教程，突然感觉昨天找了那么久的教程是浪费时间。</p>
<p>先放版本Hexo-6.0，Next-8.17.1，后续版本文件结构可能会有变化</p>
<img src="image-20230705111011824.png" alt="image-20230705111011824" style="zoom: 67%;" />

<h4 id="图片资源显示问题"><a href="#图片资源显示问题" class="headerlink" title="图片资源显示问题"></a>图片资源显示问题</h4><p>在昨天写这个博客的时候，我就隐隐约约记得博客的图片显示貌似有点问题。今天看了官网的教程和搜了一下“typora与hexo”后，我大概明白了问题所在。</p>
<p><strong>主要矛盾在于相对路径的不统一。</strong></p>
<p>在使用typora插入图片时，通常采用相对路径的方式，例如在blog文件夹下，有“重拾hexo.md”文件和同名文件夹，同名文件夹中存放该md文件的图片，那么在typora引用该文件时，可以采用该方式：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![](重拾hexo/1.png)</span><br></pre></td></tr></table></figure>

<p>而在hexo中，官方给出的嵌入图片方式如图</p>
<img src="image-20230630111503116.png" alt="image-20230630111503116" style="zoom:67%;" />

<p>其中post_asset_folder为true时，hexo会在创建文章时自动生成同名文件夹，听起来似乎和typora相性很好，但是实际上，后面的例子说明，<strong>资源图片会被自动解析为其对应文章的路径</strong>，即在上个例子中，</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![](1.png)</span><br></pre></td></tr></table></figure>

<p>即可在hexo中显示图片，但是这在本地typora预览时图片却是不可见的，这就是矛盾之处。</p>
<h4 id="主题选择"><a href="#主题选择" class="headerlink" title="主题选择"></a>主题选择</h4><p>yilla用的有点腻了，而且越发觉得观感有问题，没有（一直显示的）目录，文章栏过大等等，决定换一个用用。</p>
<p>先选择了next这个比较广为人知的，遇到问题好解决。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<p>安装next</p>
<img src="image-20230703160328452.png" alt="image-20230703160328452" style="zoom: 33%;" />

<p>这是目前的样子，接下来进行改造。</p>
<h5 id="四个样式预览"><a href="#四个样式预览" class="headerlink" title="四个样式预览"></a>四个样式预览</h5><p>muse</p>
<img src="image-20230703161711714.png" alt="image-20230703161711714" style="zoom:33%;" />

<p>mist</p>
<img src="image-20230703171849469.png" alt="image-20230703171849469" style="zoom:33%;" />

<p>Pisces</p>
<img src="image-20230703172012504.png" alt="image-20230703172012504" style="zoom:33%;" />

<p>Gemini</p>
<p>好像和Pisecs差不多，就不放图了</p>
<h5 id="改造部分"><a href="#改造部分" class="headerlink" title="改造部分"></a>改造部分</h5><p>主要参照<a href="https://zhuanlan.zhihu.com/p/618864711">Hexo+Next主题搭建个人博客+优化全过程（完整详细版） - 知乎 (zhihu.com)</a>和<a href="https://hexo-next.readthedocs.io/zh_CN/latest/">Hexo-NexT</a>以及<a href="https://zhuanlan.zhihu.com/p/30836436">Hexo+Next主题优化 - 知乎 (zhihu.com)</a></p>
<p>目前修改项有：</p>
<p>1.切换样式为Pisces</p>
<p>2.菜单增加关于、标签、归档，并添加数字</p>
<p>3.修改文章间距线宽度和长度，添加边框阴影</p>
<p>4.右上角增加github</p>
<p>5.菜单增加github链接和Email</p>
<p>6.网站底“小红心”改为“by”，”由”“强力驱动“改为“Thanks”，去除样式提示，修改字体颜色。</p>
<p>7.增加文章字数提示</p>
<p>8.打开底部tag_icon</p>
<p>9.代码块高亮主题修改（未成功）</p>
<p>10.添加背景图</p>
<p>11.添加评论</p>
<p>12.菜单栏和侧边栏修改透明度、添加阴影和圆角</p>
<p>13.添加头像</p>
<p>已知问题：代码高亮主题修改报错，大概是路径斜杠问题</p>
<p><img src="/Hexo/%E9%87%8D%E6%8B%BEhexo/image-20230704160613936.png" alt="image-20230704160613936"></p>
<p><a href="https://zhuanlan.zhihu.com/p/252983030">Ubuntu + Hexo + Next 8.0 进阶美化篇二 - 知乎 (zhihu.com)</a></p>
<p>目前的样子</p>
<img src="image-20230705110502037.png" alt="image-20230705110502037" style="zoom: 50%;" />

<p>后面可能会单独出一篇美化教程。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>博客搭建</tag>
      </tags>
  </entry>
</search>
